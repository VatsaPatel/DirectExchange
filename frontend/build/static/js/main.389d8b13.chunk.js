(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,t,a){},18:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAADxlJREFUeAHtXWuMJFUVPvXo7nns7M4+JjsskGVddl0EluzjhwgrmF0hLD808g8JQVR++AKi8ZfGUUMCMUpAo4nBaCBE/SchMcRoNiwQXCMsLwWNwD4Qd3ZmdmZ6Z/pdVZ7vVt3ump7qmeqq2k1V971JV926de+5557vnnOfdVujiQmdfzaxO3DXo3vJyd3jOPphx9G2EGkc6vAPd+XSJ4EWNrpmT5LmPOfo9d+8+NQDxwSvjG0TuQOf/9kDtm1+1zAHNthWnRzHCiiPBDzglQjyv/f7O8VvD5dp5L3T+/bwoOdONILiyjB/GumXdxknzj2IVntY+3O4/DTNIN0wyWpUirruPHxwx1cemZgg20DyA3f+9EHSBh/VjNygXa+iWsAhJ+WyIwHHsRuObhQGSDcPnpj+dOPkm388qn3qzsf21ZzCn3SzsMFuVOtcHoDO4IqapEDOEMDMKpTT0o18zrFqi4ZRu820NP1eRh3goh0GuDr/2ElFdp/UNfUSgDIKhbStms0KO2zb1n2m4xiHHasB7pW2ph7DMAxqjKOjoR+lOdoh03Z07i2LDpUCOIz8Uh/HcXF0bLbB2iaYYwVs6kGLyqAm29uoBFS6tEvA61ClnU3FX1QJKICjSi4j6RTAGQEqKpsK4KiSy0g6BXBGgIrKpgI4quQyks7MCJ+pZxPzR5hQ0NgjJhb8swu+WV/pdRzp8yaFvcdWaDJFVgBHlCMANfii84qrATvIyNQth2oNm2p8t2ynOZsPrLEwC/ARVxd39nOYSO+9A00AXGs41GAaeI7rFMBdSBDyBiCmWEZ3qFix6FSxTmfneC4fq6xrdNowYtL4gElDOUOACUVlrKnOF1SASs2mhbpDZ7kiEPupJl4SieUA9g/odPV4gTYO56jBaeJirABeBWAWuRCy4QFbqVv04mSV7KJFu7YM0u27x2j3jk106fgorVs7RKNrB2l4KE+5nCm0FgDDHNsMlmXb1ICGM41avUHVaoMqvEJbrbG/VqdKpU7n5sv06tuT9I/TRRopGKJyrMLiiq8VwCuIB+DCjObYrpZrFh09UyGNhf6NGy+jA/u30ke3j9PmsXU0smaQBgrxRImKAJNcYbB//8wxevpHf6WDV62lah2LBtFdPK6i55v6lBB4jtGFNX7tbJkWeJHmB5/dSbfetIt2MrCjrK2dHbe/bagIU7tCoypfDeRNGh7MM9KqDe4s35hvAE4hp1GFteflD8r05RsvoXvu2E97rtlKgwO5JdRtRJZgMooCSMRgxKRfRMFDO+oyiN/BhJtsKWDOYcaF6ZB0QS+iUxrcJjhgMJDTabZUp+PzDfrFfXvojsP7aGzjSDMmQEA8aB16xE0kmzGWeqR2BnWLm++8GQkxzOpQGZZSDfekAPbJSYI7vVCjIvdqn/nWATp86DqhWYgGLRN48qUJjC99LC+0FcAm7BTAnkABLswyNHeOtx7+8ps30a03XyPeSmAxRMqaUwAzYlAedKhq3OYen63TH779SR+4NmurnrzGXqSaouaiWdBQTMwwvXSqRD+/+zo6fHC3EL/N41Zdzy64KIQCmIVQMHU6Plmhe2/cQp+7fS/lTJ5gQHvL4GbdZb8EMRHADFWFJzFmeWPpF+7YR5s3rRUURWcqJu00JO97gPPc9r7EY92Jwx+hPdduFZi4narsdaiCKlRfA4xecZnnhYmnH2+96Sp3BomllPgQKEjyFymsrwEW2stt79dv2CLmlSHzXtJelKdvh0lNAzxviYWD0dFhyCNx505lttaGgzIAL6hYuu527kSahMbcfQswOlfFcoO2XzZIu64cdyeReLYDU4VxnTuV6dJypzJXpyk77Gg28ryWTLxmnAAr/anBmNgwuXP11lyN7trnLvkBVFYi1qJ48AJcdz7ZBRU0q7zmi7Vghx+CdVnjdzaZGJ5x/IXFGtGQHnstGCXpSw2G6KHB5Zk6XbN9o1iod2EF9Ktrmxt3+VWCizfT5xboP++fofdPTdN/z56nUrnGX98zyJgTXZYFA8zhcir03Q/mac/lg2L7DziK4/oSYAgMbR4kPb55HRV4DdZ1yyTvha9+k+BiL9bfXn2Xfvvscfrd3ydpaoa1EXm52XlddAkb8vP8sMeCJ6IdlxRoy0hebPGJa6ZlyVYvQQ/FQP+lijXXtSYvA65pliyqMCW4IHT05Xfolh/+mRrzNfr41mHavakg9nAhTwlrM8M2D+CGK/OcODbvJdEf6FOANSrx7NVW3iC30es9C9O53Ha6El/lKgE+cXqaHn3yGDW48/aZ3etprsR7rrDlhpHt1PYuh91dikwCXLDddwBDi6Cp0OCxoRzvpWrt0IiiwQAXCxJwr7xxgp59/RzdsmuEps/X2eLyOyYKuq39HSKq7yL11heUoDdmnzFBTi4iKWgHtrCu4RkswxAHDUXO3dV8osVSlf793hQrpNtZkuBGJpxQwr4EGLJjfMUqkobGEW61BtKN1fFaKlfpzPSC2NcMk5wW17cAo010TacHRUxLWSrXaaZYpXW8cR3aG5NcYvWjbwFOTIIeoYZliWXHYZ5AcRU4HRArgBNEGqZZwCoQToedVgAnCHBq7LKvTApgnzCieTuZ4k7h0XKJmkoBHFVyGUnXxwCnQ8MudD3pY4DT0QlSACcsgZbetnzxsgioKEmRjseYSJ35uehuRyRiyZ3HM5hiDIAmgkhbaGKYJFYG+S6oe+eCdkWUybUodpUyMHLmAcZxCnK2MbCEbYGYY8rxRvdB/uFzleQcH+3An0es4S8T8cF43nBnyrqljwqCNeWkXOYBrvOqkNik1oVEsHWmWLWWfj0PmcbBm9UXRzNM87kdl/IdJwJgKjSKQ0VJymUaYAhwjg+qf3vRogL78QwzuZLDydiX5HU6PVWnkeGGMNWIHx1fNyXynVls0OxknU4N5uh9XhPOh1nl57zBNxY/eAsC7RwyaCMfHrBaOcBzGJdJgCE3nEAzX7bpS7ftoGt3XcpfxVui3eu87toSBwTasGzevWjSBm/BH2FRnFyY37B+mL533yeoXKmJA1hgJcI7t5IY3Gy8d3Kannj2bWJLL5qQrsgEZJg5gFGzsSMSZ1H9k48wun7vNrp+/5UBResuSALVXSpon1szUFEOHfhYt8mXxT92/D165cnX6YZNeZd2TFVOztgvY/XCBbj1nemzcLGKI51cfJfPWbn7tX1qukg4XiDP2pxEeTKnwUtAg/J4ltAvDBHkhS+J3/7A6SNa5nZK4nmZsvn4ExkF8AQDgCEVmhakL54vc/vh7grxAx+YYYjAbAMMgXkIwVRKkEWQFx5CBolF8az1Unp+Pvz+JbHcF1U+HG1yZpF3hXgRAyrEkmQhHjJpokOUK1NRZMXASXcfTJ4nk3vS0OYE8FVf+KepJtTrdTozU6ItPIyT1iguf0qD40owwfT4vGVqrkIjADghugrghAQZlQw0VQ61ZudKdGquSsMMcNzxr+RHASwlkYL77Pwi/YuPccKhMEm55CglxVGf0fGb4vMLFaKSJb5lgmb730UViwI4quSSSuehiBWkmTkeIjEi0mR3HFV1kbcCuAthXYiocoiEj8Q/5O+IceI7MMcwKQmnAE5CignQwAnw/5tapPVYFmOIE8JXjYMTwCYREjU+6X1qtkyjeXeSIxGiTCTbU5Vc2eWEgOiUiGrfZd1nG5lEWwdAJC9hwZFmGGZ6rliiyYTHwOAj2wAzluIUGy4IOiayPQsr4KTjyc5RWLp+fueKZXrnXJW28UfpidlnZiSTbbDbSjH3rAJGgttbwgJzIeItLFZYg+u8l8v9eK1LO9SRpexpMKOL3RzY1XEV1/Zjx0+Kv6OpY0cHS8WvFZ1KDU3DDpB8Pkd7d19B69cNCfParQaCPswy0p3jIc5rb50URybhOKQw5hr84mQd/FCOy9fnvB40lg+TcZkDGAXHNB5M86Zhk37yzDt0+tdvurYIL8NU/QIbrhMVGrt6Lb38+CYP4HCVo13sEuCZ2QV68PEX6I2js0TX8qYqnrBYFSXJL/O8fWOOto3meEdlew7xnjMHsL+4AHrruhxdwb9uHHZLfLjGoG2bB5tnU4XR/OA8XF2DFu4cG6Ti/pq4l3jXJqxMmPoGuoiXNLigm2mAUQCIV3a08LyagyBhUiF8/JpOvGg+RfMwPWy1BllUGOQDfxiHrb9hK0MYejJO5gGGFltozMI6jmroDlV50x7+ALLpwiLRTLDcg8PVSvhjSb6L/x3sgmYXUZdnvEJI5gFG2boRjvyaxNWwFSQT5RUzAqsgaDNX3fAVJbswaTI5TApTsFXj+JR31bgrRgggFBC0IokL+LJ/AU5MqGnQ086FUQB3lk3INylS1wCOFcABQukuSGlwd/JSsROVgNLgRMWZPmIK4PRhkihHCuDY4lSdrNgiTDcB1clKNz49zp0y0QrgHpdAjxdPabACuMcl0OPFUxqsAO5xCcQunhoHxxZhugmocXC68elx7lQbrADucQnELp5qg2OLMN0EVBucbnx6nDvVBiuAe1wCsYun2uDYIlQEoktAmejosvNSqk5WbBGmm4Ay0enGJzZ3SoNji1ARiC4B1QZHl10mUiqAMwFTdCYVwNFll4mUCuBMwBSdSQVwdNl5KdM4TNKaTAHg5kPssvYlgTQOk+RBFeKAGntS04AzUG8h35dY9UShPQwZU01zZvgEIus53cA5UziqppvjanpCGj1YCIGhDUw1so7opm79ympUirrB/wTBJxLxj89a6z9Njl61fS2cz3vxWz6BGc7Jsxhc3WlUq6RZT+hHnnrgmG5Yj+DMHwbZOzKuZcN7sIoHFimNLWkgox0DXcwY3JymGaQZ9o9fePr+v4he9MErv/awZpe/49i1RcPkM+VFm9yRUqZfNIHEYVao1eLueqMUTB5gKk7FWkKzmVMUst2nYcx0s6A7dr1C9uJD49Uj3wcRkyYm9ImJCVbtrz50892PPW9Z1hc56iE+73RMWhy+C275IoMCGUA8Gcfv90f2hYMm6Mk7ogk7I2kgwOf88XzBS72gj5AONESO/A5n9nJUR/NMs2bxQZGaONtQJGcKkjVJH89weN/y27bNfxlv4F/IQc994Qhtci8ijbj4E4KCyIgvkpiIhPD2sBYJ1xcQh9M0ZlhBjxim9cTzT95/RMRkbP8PVS3USQ5V5SsAAAAASUVORK5CYII="},19:function(e,t,a){e.exports=a.p+"static/media/google-logo.36158af3.png"},20:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},52:function(e,t,a){e.exports=a(87)},57:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(42),o=a.n(l),s=(a(57),a(3)),c=a(4),i=a(6),m=a(5),u=(a(16),a(35),a(47)),d=a(92),f=a(46),p=a(89),h=a(14),E=Object(h.a)(),g=a(48);function v(e){var t=e.component,a=Object(g.a)(e,["component"]);return r.a.createElement(f.a,Object.assign({},a,{render:function(e){return null!=localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var b=a(8),y=a(9),C=(a(20),a(1)),O=a.n(C),N=a(43),A=a.n(N),S=(a(79),n.Component,"https://delta-crane-296423.wl.r.appspot.com/directexchange"),k=S+"/oauth2/authorization/google",x=S+"/oauth2/authorization/facebook",w=a(18),I=a.n(w),j=a(19),F=a.n(j),D=a(28),R=(a(41),a(7)),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onLogoutClick=function(){localStorage.removeItem("token"),localStorage.removeItem("nickName"),e.setState({logout:!0}),console.log("In logout ",localStorage.getItem("token"))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.setState({logout:!0})}},{key:"render",value:function(){var e=null;return this.state&&this.state.logout&&(e=r.a.createElement(p.a,{to:"/login"})),localStorage.getItem("token")||(e=r.a.createElement(p.a,{to:"/login"})),r.a.createElement("div",{className:"header"},e,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"header-search"},r.a.createElement("form",{action:"#"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon2"},r.a.createElement("i",{className:"fa fa-search"})))))),r.a.createElement("div",{className:"dashboard_log my-2"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"profile_log dropdown"},r.a.createElement("div",{className:"user","data-toggle":"dropdown"},r.a.createElement("span",{className:"thumb"},r.a.createElement("i",{className:"mdi mdi-account"})),r.a.createElement("span",{className:"name"},null==localStorage.getItem("nickName")?"Hi User!":"Hi "+localStorage.getItem("nickName")+"!"),r.a.createElement("span",{className:"arrow"},r.a.createElement("i",{className:"la la-angle-down"}))),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("a",{href:"/profile",className:"dropdown-item"},r.a.createElement("i",{className:"mdi mdi-account"})," Profile"),r.a.createElement("a",{href:"/account",className:"dropdown-item"},r.a.createElement("i",{className:"mdi mdi-bank"})," Account"),r.a.createElement(D.a,{onClick:this.onLogoutClick,to:"/login",className:"dropdown-item logout"},r.a.createElement("i",{className:"la la-sign-out"})," Logout"))))))))))}}]),a}(n.Component),_="https://delta-crane-296423.wl.r.appspot.com/",P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).submitSignUp=function(e){e.preventDefault();var t={emailId:n.state.emailID,password:n.state.password,nickname:n.state.nickname};console.log("sign up data: ",t),O.a.defaults.withCredentials=!0,O.a.post("".concat(_,"/directexchange/auth/signup"),t).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Successful registration: ",e.data),n.setState({successFlag:!0,msg:"Successfully Registered!"}))})).catch((function(e){console.log("Error ******** :",e),n.setState({successFlag:!1,errorFlag:!0,msg:e.response.data})}))},n.state={emailID:"",password:"",nickname:"",submitted:!1,successFlag:!1,errorFlag:!1},n.changeHandler=n.changeHandler.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=null,t=null;return localStorage.getItem("token")&&(t=r.a.createElement(p.a,{to:"/"})),!0===this.state.successFlag?e=r.a.createElement("div",{class:"alert alert-success",role:"alert"},"Successfully Registered, Please Verify Your Email!",r.a.createElement("a",{href:"/login"}," Verify here.")):!0===this.state.errorFlag&&(e=r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.msg)),console.log("msg from java controller: ",this.state.msg),r.a.createElement("div",null,t,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},"Signup with DirectExchange"),r.a.createElement("div",{className:"social-signup"},r.a.createElement("a",{className:"btn btn-block social-btn google",href:k},r.a.createElement("img",{src:F.a,alt:"Google"}),"Sign up with Google"),r.a.createElement("a",{className:"btn btn-block social-btn facebook",href:x},r.a.createElement("img",{src:I.a,alt:"Facebook"}),"Sign up with Facebook")),r.a.createElement("div",{className:"or-separator"},r.a.createElement("div",{className:"or-text"},"OR")),r.a.createElement("form",{onSubmit:this.submitSignUp},r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{onChange:this.changeHandler,type:"email",className:"form-control",name:"emailID",value:this.state.emailID,required:!0,placeholder:"Username"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{onChange:this.changeHandler,type:"text",className:"form-control",name:"nickname",value:this.state.nickname,required:!0,placeholder:"Nick name"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{onChange:this.changeHandler,type:"password",className:"form-control",name:"password",value:this.state.password,required:!0,placeholder:"Password"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("button",{className:"btn btn-block btn-primary",type:"submit"},"Sign Up")),e),r.a.createElement("span",{className:"login-link"},"Already have an account? ",r.a.createElement(D.a,{to:"/login"},"Login!")))))}}]),a}(n.Component),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).submitLogin=function(e){e.preventDefault();var t={emailId:n.state.emailID,password:n.state.password};console.log("sign up data: ",t),O.a.defaults.withCredentials=!0,O.a.post("".concat(_,"/directexchange/auth/login"),t).then((function(e){if(console.log("Status Code : ",e.status),200===e.status){if(console.log("Successful Login: ",e.data),localStorage.setItem("token",e.data.accessToken),e.data.accessToken){var t=Object(R.a)(e.data.accessToken);console.log(t),localStorage.setItem("nickName",t.nickName)}n.setState({successFlag:!0,msg:"Successfully Login!"})}})).catch((function(e){console.log("Error ******** :",e.response),n.setState({errorFlag:!0,successFlag:!1,msg:void 0===typeof e.response?"":e.response.data})}))},n.state={emailID:"",password:"",submitted:!1},n.changeHandler=n.changeHandler.bind(Object(y.a)(n)),n.submitLogin=n.submitLogin.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&this.setState({successFlag:!0}),this.props.location.state&&this.props.location.state.error&&(this.setState({errorFlag:!0,successFlag:!1,msg:this.props.location.state.error}),setTimeout((function(){e.props.history.replace({pathname:e.props.location.pathname,state:{}})}),100)),this.props.location.state&&this.props.location.state.from&&("verified"===this.props.location.state.from&&this.setState({errorFlag:!1,successFlag:!0,msg:this.props.location.state.msg}),setTimeout((function(){e.props.history.replace({pathname:e.props.location.pathname,state:{}})}),100))}},{key:"changeHandler",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e,t;return null!==localStorage.getItem("token")&&(e=r.a.createElement(p.a,{to:"/"})),!0===this.state.successFlag?t=r.a.createElement("div",{class:"alert alert-success",role:"alert"},this.state.msg):!0===this.state.errorFlag&&(t=r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.msg)),r.a.createElement("div",null,e,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},"Login to DirectExchange"),r.a.createElement("div",{className:"social-signup"},r.a.createElement("a",{className:"btn btn-block social-btn google",href:k},r.a.createElement("img",{src:F.a,alt:"Google"}),"Sign in with Google"),r.a.createElement("a",{className:"btn btn-block social-btn facebook",href:x},r.a.createElement("img",{src:I.a,alt:"Facebook"}),"Sign in with Facebook")),r.a.createElement("div",{className:"or-separator"},r.a.createElement("div",{className:"or-text"},"OR")),r.a.createElement("form",{onSubmit:this.submitLogin},r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{onChange:this.changeHandler,type:"email",className:"form-control",name:"emailID",value:this.state.emailID,required:!0,placeholder:"Username"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{onChange:this.changeHandler,type:"password",className:"form-control",name:"password",value:this.state.password,required:!0,placeholder:"Password"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("button",{className:"btn btn-block btn-primary",type:"submit"},"Login")),t),r.a.createElement("span",{className:"signup-link"},"New user? ",r.a.createElement(D.a,{to:"/signup"},"Sign up!")),r.a.createElement("br",null),r.a.createElement("span",{className:"signup-link"},"Verify Code? ",r.a.createElement(D.a,{to:"/verify"},"Verify here!")))))}}]),a}(n.Component),T=a(49),U=a(90),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=null;return localStorage.getItem("token")||(e=r.a.createElement(p.a,{to:"/login"})),r.a.createElement("div",{className:"sidebar"},e,r.a.createElement("a",{className:"brand-logo"},r.a.createElement("span",null,"Direct Exchange ")),r.a.createElement("div",{className:"menu"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(U.a,{exact:!0,to:"/",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement("i",{className:"mdi mdi-view-dashboard"})),r.a.createElement("span",{className:"nav-text"},"Home"))),r.a.createElement("li",null,r.a.createElement(U.a,{to:"/Rates",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement("i",{className:"mdi mdi-repeat"})),r.a.createElement("span",{className:"nav-text"},"Prevailing Rates"))),r.a.createElement("li",null,r.a.createElement(U.a,{to:"/getMyOffers",activeClassName:"active"},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-money-check"})),r.a.createElement("span",{className:"nav-text"},"My Offers"))),r.a.createElement("li",null,r.a.createElement(U.a,{to:"/viewCounterOffers"},r.a.createElement("span",null,r.a.createElement("i",{className:"mdi mdi-repeat"})),r.a.createElement("span",{className:"nav-text"},"Counter Offers"))),r.a.createElement("li",null,r.a.createElement(U.a,{to:"/transact"},r.a.createElement("span",null,r.a.createElement("i",{className:"mdi mdi-repeat"})),r.a.createElement("span",{className:"nav-text"},"Transact"))),r.a.createElement("li",null,r.a.createElement(U.a,{to:"/report"},r.a.createElement("span",null,r.a.createElement("i",{className:"mdi mdi-account"})),r.a.createElement("span",{className:"nav-text"}," System Report"))))),r.a.createElement("div",{className:"sidebar-footer"},r.a.createElement("div",{className:"copy_right"},"275 Project Group 5")))}}]),a}(n.Component),G=[{name:"US Dollar",code:"USD"},{name:"Euro",code:"EUR"},{name:"Indian Rupee",code:"INR"},{name:"British Pound",code:"GBP"},{name:"Chinese Renminbi",code:"RMB"}],z=Object();z.USD="|United States|American Samoa|British Virgin Islands|Ecuador|El Salvador|Guam|East Timor|Marshall Islands|Puerto Rico|Virgin Islands",z.INR="|India",z.RMB="|China",z.GBP="|United Kingdom",z.EUR="|Netherlands|Andorra|Belgium|Spain|Guadeloupe|Ireland|Italy|Austria|Greece|Cyprus|Latvia|Lithuania|Luxembourg|Malta|Martinique|Mayotte|Monaco|Portugal|France|French Guiana|Reunion|Saint Pierre and Miquelon|Germany|San Marino|Slovakia|Slovenia|Finland|Vatican City|Estonia|French Southern and Antarctic Lands|Montenegro|Saint Barthelemy|Kosovo|\xc5land Islands|Saint Martin";var V=z,L={GBP:{GBP:1,USD:1.33,EUR:1.1,INR:98,RMB:8.77},EUR:{GBP:.90909090909,USD:1.21,EUR:1,INR:89,RMB:7.95},INR:{GBP:.01020408163,USD:.01351351351,EUR:.01123595505,INR:1,RMB:.0909090909},RMB:{GBP:.82644628099,USD:.15243902439,EUR:.12578616352,INR:11,RMB:1},USD:{GBP:.75187969924,USD:1,EUR:.82644628099,INR:74,RMB:6.56}},Y=(a(80),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getMinDate=function(){var e=new Date,t=e.setDate(e.getDate()+1);return new Date(t).toISOString().substr(0,10)},n.calculateAmountRecieved=function(){if(""!==n.state.source_currency&&""!==n.state.destination_currency&&""!==n.state.amount)return(L[n.state.source_currency][n.state.destination_currency]*parseFloat(n.state.amount).toFixed(2)*.9995).toFixed(2)},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.handleCheckboxChange=function(e){return n.setState(Object(b.a)({},e.target.name,e.target.checked))},n.onSubmit=function(e){if(e.preventDefault(),n.state.source_currency===n.state.destination_currency&&n.state.source_country===n.state.destination_country)alert("Please select different countries");else{O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token")),a={amount:parseFloat(n.state.amount),exchange_rate:L[n.state.source_currency][n.state.destination_currency],source_currency:n.state.source_currency,source_country:n.state.source_country,destination_currency:n.state.destination_currency,destination_country:n.state.destination_country,expirationdate:n.state.expirationdate,allowCounterOffers:n.state.allowCounterOffers,allowOfferSplit:n.state.allowOfferSplit};O.a.post("".concat(_,"/directexchange/api/postoffer/")+t.sub,a).then((function(e){200===e.status&&(alert("Offer has been posted!"),n.setState({source_currency:"",destination_currency:"",source_country:"",destination_country:"",amount:"",expirationdate:"",minDate:"",allowCounterOffers:!0,allowOfferSplit:!0}))})).catch((function(e){console.log(e.response),alert(e.response.data)}))}},n.getCurrencies=function(){return G.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name," - ",e.code)}))},n.getCountries=function(e){return V[e].split("|").filter((function(e){return""!==e})).map((function(e){return r.a.createElement("option",{value:e},e)}))},n.state={source_currency:"",destination_currency:"",source_country:"",destination_country:"",amount:"",expirationdate:"",minDate:"",allowCounterOffers:!0,allowOfferSplit:!0},n.amountDetailsRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"toggleClass",value:function(){""!==this.state.source_currency&&""!==this.state.destination_currency&&""!==this.state.amount?this.amountDetailsRef.current.classList.remove("hidden"):null!==this.amountDetailsRef.current&&this.amountDetailsRef.current.classList.add("hidden")}},{key:"render",value:function(){var e=null,t=null;return this.toggleClass(),""!==this.state.source_currency&&void 0!==this.state.source_currency&&(e=this.getCountries(this.state.source_currency)),""!==this.state.destination_currency&&void 0!==this.state.destination_currency&&(t=this.getCountries(this.state.destination_currency)),r.a.createElement("div",{className:"main-dasbhoard"},r.a.createElement("div",{className:"display-offers"},r.a.createElement("button",{className:"post-offer-button","data-toggle":"modal","data-target":"#newOfferModalPopup"},"Post an Offer"),r.a.createElement("div",{class:"modal fade",id:"newOfferModalPopup",role:"dialog","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content",style:{width:"850px",background:"#eff2f7"}},r.a.createElement("div",{class:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px",position:"relative",left:"40px"},onClick:this.props.handleRefresh.bind(this)},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"offer-details"},r.a.createElement("h4",{class:"main-title"},"Offer Details"),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",min:"0",step:"0.01",class:"form-control",placeholder:"Amount",name:"amount",value:this.state.amount,onChange:this.onChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"source_currency",value:this.state.source_currency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Source Currency"),this.getCurrencies())),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"source_country",value:this.state.source_country,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Source Country"),e)),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"destination_currency",value:this.state.destination_currency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Destination Currency"),this.getCurrencies())),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"destination_country",value:this.state.destination_country,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Destination Country"),t)),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"date",class:"form-control",placeholder:"Expiration Date",min:this.getMinDate(),name:"expirationdate",value:this.state.expirationdate,onChange:this.onChange,required:!0}),r.a.createElement("small",{class:"form-text text-muted"},"Please select an expiration date for this offer")),r.a.createElement("button",{type:"submit",class:"custom-btn1"},"POST OFFER")),r.a.createElement("div",{className:"modal-sidebar"},r.a.createElement("div",{ref:this.amountDetailsRef,id:"amount-details",class:"hidden"},r.a.createElement("h5",null,"They will recieve"),r.a.createElement("div",{class:"return-output"},this.state.destination_currency," ",this.calculateAmountRecieved()),r.a.createElement("small",{class:"form-text text-muted",style:{marginBottom:"20px"}},"Includes transaction fee of 0.05%"),r.a.createElement("div",{class:"form-group form-check",style:{marginBottom:"0px"}},r.a.createElement("input",{type:"checkbox",class:"form-check-input",name:"allowCounterOffers",onChange:this.handleCheckboxChange,checked:this.state.allowCounterOffers}),r.a.createElement("label",{class:"form-check-label"},"Allow Counter offers")),r.a.createElement("div",{class:"form-group form-check"},r.a.createElement("input",{type:"checkbox",class:"form-check-input",name:"allowOfferSplit",onChange:this.handleCheckboxChange,checked:this.state.allowOfferSplit}),r.a.createElement("label",{class:"form-check-label"},"Allow Offer split")))))))))))}}]),a}(n.Component)),q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getExpiryDate=function(e){var t=e.substring(0,4),a=e.substring(5,7),n=e.substring(8,10);return new Date(t,a-1,n,0,0,0,0).toISOString().substr(0,10)},n.getMinDate=function(){var e=new Date,t=e.setDate(e.getDate()+1);return new Date(t).toISOString().substr(0,10)},n.calculateAmountRecieved=function(){if(""!==n.state.source_currency&&""!==n.state.destination_currency&&""!==n.state.amount)return(L[n.state.source_currency][n.state.destination_currency]*parseFloat(n.state.amount).toFixed(2)*.9995).toFixed(2)},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.handleCheckboxChange=function(e){return n.setState(Object(b.a)({},e.target.name,e.target.checked))},n.onSubmit=function(e){if(e.preventDefault(),n.state.source_currency===n.state.destination_currency&&n.state.source_country===n.state.destination_country)alert("Please select different countries");else{O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token")),a={amount:parseFloat(n.state.amount),exchange_rate:L[n.state.source_currency][n.state.destination_currency],source_currency:n.state.source_currency,source_country:n.state.source_country,destination_currency:n.state.destination_currency,destination_country:n.state.destination_country,expirationdate:n.state.expirationdate,allowCounterOffers:n.state.allowCounterOffers,allowOfferSplit:n.state.allowOfferSplit};O.a.put("".concat(_,"/directexchange/api/postoffer/")+t.sub+"/"+n.props.offer.offerId,a).then((function(e){200===e.status&&alert("Offer has been edited!")})).catch((function(e){console.log(e.response),alert(e.response.data)}))}},n.getCurrencies=function(){return G.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name," - ",e.code)}))},n.getCountries=function(e){return V[e].split("|").filter((function(e){return""!==e})).map((function(e){return r.a.createElement("option",{value:e},e)}))},n.state={source_currency:"",destination_currency:"",source_country:"",destination_country:"",amount:"",expirationdate:"",minDate:"",allowCounterOffers:!0,allowOfferSplit:!0},n.amountDetailsRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({source_currency:this.props.srcCurrency,destination_currency:this.props.destCurrency,source_country:this.props.srcCountry,destination_country:this.props.destCountry,amount:this.props.remitAmount,expirationdate:this.getExpiryDate(this.props.expDate),minDate:"",allowCounterOffers:this.props.counterOfferFlag,allowOfferSplit:this.props.splitOfferFlag})}},{key:"toggleClass",value:function(){""!==this.state.source_currency&&""!==this.state.destination_currency&&""!==this.state.amount?this.amountDetailsRef.current.classList.remove("hidden"):null!==this.amountDetailsRef.current&&this.amountDetailsRef.current.classList.add("hidden")}},{key:"render",value:function(){var e=this,t=null,a=null;return this.toggleClass(),""!==this.state.source_currency&&void 0!==this.state.source_currency&&(t=this.getCountries(this.state.source_currency)),""!==this.state.destination_currency&&void 0!==this.state.destination_currency&&(a=this.getCountries(this.state.destination_currency)),r.a.createElement("div",{className:"container",style:{textAlign:"left"}},r.a.createElement("div",{className:"col-md-6",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"offerContainer"},r.a.createElement("span",null,"Status: ",r.a.createElement("span",{className:"postedBy"},this.props.status)," ","Open"===this.props.status?r.a.createElement("i",{style:{float:"right"},class:"fa fa-pencil","aria-hidden":"true","data-toggle":"modal","data-target":"#editOfferModalPopup"+this.props.offer.offerId}):null),r.a.createElement("span",null,"Offer Split Allowed:"," ",r.a.createElement("span",{className:"postedBy"},this.props.splitOfferFlag?"Yes":"No")),r.a.createElement("span",null,"Counter Offer Allowed:"," ",r.a.createElement("span",{className:"postedBy"},this.props.counterOfferFlag?"Yes":"No")),r.a.createElement("span",null,"Expires:"," ",r.a.createElement("span",{className:"postedBy"},this.props.expDate.toString().substring(0,10))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px 0"}},r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"From:"),r.a.createElement("span",{className:"offerCountry"},this.props.srcCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.srcCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.remitAmount))),r.a.createElement("span",{className:"arrowContainer"},r.a.createElement("i",{className:"arrowC la la-arrow-right"})),r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"To:"),r.a.createElement("span",{className:"offerCountry"},this.props.destCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.destCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.finalAmount)))),"Open"===this.props.status?r.a.createElement("button",{className:"customBtn",onClick:function(){return e.props.getAllOffers(e.props.offer)}},"Find Matching Offers"):"")),r.a.createElement("div",{class:"modal fade",id:"editOfferModalPopup"+this.props.offer.offerId,role:"dialog","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content",style:{width:"850px",background:"#eff2f7"}},r.a.createElement("div",{class:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px",position:"relative",left:"40px"},onClick:this.props.handleRefresh.bind(this)},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"offer-details"},r.a.createElement("h4",{class:"main-title"},"Offer Details"),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",min:"0",step:"0.01",class:"form-control",placeholder:"Amount",name:"amount",value:this.state.amount,onChange:this.onChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"source_currency",value:this.state.source_currency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Source Currency"),this.getCurrencies())),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"source_country",value:this.state.source_country,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Source Country"),t)),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"destination_currency",value:this.state.destination_currency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Destination Currency"),this.getCurrencies())),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"destination_country",value:this.state.destination_country,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Destination Country"),a)),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"date",class:"form-control",placeholder:"Expiration Date",min:this.getMinDate(),name:"expirationdate",value:this.state.expirationdate,onChange:this.onChange,required:!0}),r.a.createElement("small",{class:"form-text text-muted"},"Please select an expiration date for this offer")),r.a.createElement("button",{type:"submit",class:"custom-btn1"},"SAVE")),r.a.createElement("div",{className:"modal-sidebar"},r.a.createElement("div",{ref:this.amountDetailsRef,id:"amount-details",class:"hidden"},r.a.createElement("h5",null,"They will recieve"),r.a.createElement("div",{class:"return-output"},this.state.destination_currency," ",this.calculateAmountRecieved()),r.a.createElement("small",{class:"form-text text-muted",style:{marginBottom:"20px"}},"Includes transaction fee of 0.05%"),r.a.createElement("div",{class:"form-group form-check",style:{marginBottom:"0px"}},r.a.createElement("input",{type:"checkbox",class:"form-check-input",name:"allowCounterOffers",onChange:this.handleCheckboxChange,checked:this.state.allowCounterOffers}),r.a.createElement("label",{class:"form-check-label"},"Allow Counter offers")),r.a.createElement("div",{class:"form-group form-check"},r.a.createElement("input",{type:"checkbox",class:"form-check-input",name:"allowOfferSplit",onChange:this.handleCheckboxChange,checked:this.state.allowOfferSplit}),r.a.createElement("label",{class:"form-check-label"},"Allow Offer split"))))))))))}}]),a}(n.Component),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getAllOffers=function(e){console.log("offer details: ",e),n.setState({offer:e,redirectToAcceptOffer:!0})},n.handleRefresh=function(){window.location.reload()},n.state={submitted:!1,myOffers:"",allOffers:"",offer:"",redirectToFindMatches:"",loading:!1},n.getAllOffers=n.getAllOffers.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",t.sub),O.a.get("".concat(_,"/directexchange/user/myoffer/")+t.sub).then((function(t){console.log("Status Code : ",t.status),200===t.status&&(console.log("Fetched All Offers: ",t.data),e.setState({successFlag:!0,myOffers:t.data,loading:!1}))})).catch((function(t){console.log("Here we captured the error: ",t),e.setState({successFlag:!1,myOffers:null,loading:!1})}))}},{key:"render",value:function(){var e=this;console.log("msg from java controller: ",this.state.myOffers);var t="";return this.state.redirectToAcceptOffer&&(t=r.a.createElement(T.a,{to:{pathname:"/viewOfferMatches",state:{offer:this.state.offer}}})),r.a.createElement("div",null,t,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"Get My Offers"),r.a.createElement(Y,{handleRefresh:this.handleRefresh}),r.a.createElement("div",{className:"col-xl-9",style:{maxWidth:"900px"}},r.a.createElement("div",{className:"row"},this.state.loading&&r.a.createElement("div",{className:"preloading"},r.a.createElement("div",{id:"preloader"},r.a.createElement("div",{className:"sk-three-bounce"},r.a.createElement("div",{className:"sk-child sk-bounce1"}),r.a.createElement("div",{className:"sk-child sk-bounce2"}),r.a.createElement("div",{className:"sk-child sk-bounce3"})))),this.state.myOffers&&0!==this.state.myOffers.length?this.state.myOffers.map((function(t){return r.a.createElement(q,{offer:t,key:t.offerId,expDate:t.expDate,srcCountry:t.srcCountry,srcCurrency:t.srcCurrency,remitAmount:t.remitAmount,destCurrency:t.destCurrency,destCountry:t.destCountry,finalAmount:t.finalAmount,status:t.status,getAllOffers:e.getAllOffers,splitOfferFlag:t.splitOfferFlag,counterOfferFlag:t.counterOfferFlag,handleRefresh:e.handleRefresh})})):r.a.createElement("p",null,"No Offers posted"))))))}}]),a}(n.Component),Z=a(24),X=a.n(Z),W=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).counterOfferAmountHandler=function(e,t){n.setState({single_count_offer_amount:e.target.value,postCounterMsg:""})},n.postSingleCounterHandler=function(e,t){if(e.preventDefault(),console.log("postSingleCounterHandler: offer",t),console.log("postSingleCounterHandler: receiver",e),console.log("postSingleCounterHandler: sender",n.state.offer),console.log("postSingleCounterHandler: offer amount",n.state.single_count_offer_amount),n.state.single_count_offer_amount>=.9*t.remitAmount&&n.state.single_count_offer_amount<=1.1*t.remitAmount){var a={senderOffer:n.state.offer,receiverOffer:t,counter_offer_amount:n.state.single_count_offer_amount,type:"single"};O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var r=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",r.sub),O.a.post("".concat(_,"/directexchange/user/counteroffer"),a).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Fetched All Offers: ",e.data),n.setState({postCounterOfferFlag:!0,postCounterMsg:e.data}))})).catch((function(e){console.log("Here we captured the error: ",e),n.setState({postCounterOfferFlag:!1,postCounterMsg:"Couldn't post offer, try after sometime."})}))}else n.setState({postCounterOfferFlag:!1,postCounterMsg:"Counter offer not within valid range "+.9*t.remitAmount+" - "+1.1*t.remitAmount+"!"})},n.state={offer:n.props.myOffer,submitted:!1,allSingleMatches:null,single_count_offer_amount:0,postCounterOfferFlag:!1,postCounterMsg:"",transactionFlag:null,transactionMsg:""},n.acceptSingleOfferHandler=n.acceptSingleOfferHandler.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"acceptSingleOfferHandler",value:function(e,t,a){var n=this;e.preventDefault(),console.log("offer: accept offer: ",t),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var r=Object(R.a)(localStorage.getItem("token")),l="";"accept"===a?(l={source_offer:this.state.offer.offerId,offers_matched1:t,source_offer_amount:this.state.offer.remitAmount,counterOfferId:-1},console.log("accept - final data: ",l)):"accept-match"===a&&(l={source_offer:this.state.offer.offerId,offers_matched1:t,source_offer_amount:t.finalAmount,counterOfferId:-1},console.log("accept-match - final data: ",l)),O.a.post("".concat(_,"/directexchange/api/transactions/")+r.sub,l).then((function(e){console.log("Status Code : ",e.status),200===e.status?(console.log("Posted Counter Offers: ",e.data),n.setState({transactionFlag:!0})):n.setState({transactionFlag:!1,transactionMsg:e.data})})).catch((function(e){console.log("Here we captured the error: ",e),n.setState({transactionFlag:!1})}))}},{key:"render",value:function(){var e=this;console.log("inside all single matches:",this.props.allSingleMatches);var t="",a="";return this.state.transactionFlag&&(t=r.a.createElement(T.a,{to:{pathname:"/transact"}})),!1===this.state.transactionFlag&&(a=r.a.createElement("div",{style:{color:"red"}},"Transaction could not be completed. Please Try after sometime")),r.a.createElement("div",null,t,this.props.allSingleMatches&&0!==this.props.allSingleMatches.length?this.props.allSingleMatches.map((function(t){var a;return r.a.createElement("div",null,r.a.createElement("table",{className:"table mb-0 table-responsive-sm view-offer-table",style:{color:"#5a656d"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",null,"USER NAME")),r.a.createElement("th",null,r.a.createElement("div",null,"AMOUNT"),r.a.createElement("div",null,"DIFFERENCE")),r.a.createElement("th",null,r.a.createElement("div",null,"SOURCE"),r.a.createElement("div",null,"OFFER")),r.a.createElement("th",null,r.a.createElement("div",null,"AMOUNT"),r.a.createElement("div",null,"TO SEND")),r.a.createElement("th",null,r.a.createElement("div",null,"EXPIRATION"),r.a.createElement("div",null,"DATE")),r.a.createElement("th",null,r.a.createElement("div",null,"OFFER"),r.a.createElement("div",null,"STATUS")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.user.nickName),parseInt(t.remitAmount)-parseInt(e.props.myOffer.finalAmount)>=0?r.a.createElement("td",{className:"text-success"},"+",t.remitAmount-e.props.myOffer.finalAmount," ",t.srcCurrency):r.a.createElement("td",{className:"text-danger"},t.remitAmount-e.props.myOffer.finalAmount," ",t.srcCurrency),r.a.createElement("td",null,t.srcCurrency," ",t.remitAmount),r.a.createElement("td",null,t.destCurrency," ",t.finalAmount),r.a.createElement("td",null,t.expDate.substring(0,10)),r.a.createElement("td",null,t.status)))),r.a.createElement("div",{className:"buy-sell-widget"},r.a.createElement("ul",{className:"nav nav-tabs"},parseInt(t.remitAmount)-parseInt(e.props.myOffer.finalAmount)===0?r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal",onClick:function(a){return e.acceptSingleOfferHandler(a,t,"accept")}}," Accept "):r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal","data-target":"#acceptOfferModalPopup"+t.offerId}," Accept"),r.a.createElement("div",{className:"modal fade",show:"false",id:"acceptOfferModalPopup"+t.offerId,role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"1000px",background:"#eff2f7"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"},onClick:e.props.handleRefresh.bind(e)},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"counter-offer-details"},r.a.createElement("br",null),r.a.createElement("h4",{className:"main-title"},"Accept Offer Details"),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",null,"Please note: There is a difference between your initial offer and the amount to be sent.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null," Accept below to match the offer or Post a counter offer")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",onClick:function(a){return e.acceptSingleOfferHandler(a,t,"accept-match")}},"ACCEPT OFFER"),r.a.createElement("br",null),r.a.createElement("br",null))))))),"true"===t.counterOfferFlag.toString()?r.a.createElement("div",null,r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal","data-target":"#newOfferModalPopup"+t.offerId}," Counter"),r.a.createElement("div",(a={className:"modal fade",id:"newOfferModalPopup"},Object(b.a)(a,"id","newOfferModalPopup"+t.offerId),Object(b.a)(a,"role","dialog"),Object(b.a)(a,"aria-labelledby","exampleModalCenterTitle"),Object(b.a)(a,"aria-hidden","true"),a),r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"1000px",background:"#eff2f7"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"},onClick:e.props.handleRefresh.bind(e)},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"counter-offer-details"},r.a.createElement("br",null),r.a.createElement("h4",{className:"main-title"},"Counter Offer Details"),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",null,"Please enter your counter offer below"),r.a.createElement("br",null),r.a.createElement("div",null,"Note: The counter offer must be within the range of 90% to 110% of source remit amount"),r.a.createElement("br",null),r.a.createElement("div",null," eg: ",(.9*parseInt(t.remitAmount)).toFixed(2)," to ",(1.1*parseInt(t.remitAmount)).toFixed(2)),r.a.createElement("br",null),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Counter Offer Amount",name:"amount",onChange:function(a){return e.counterOfferAmountHandler(a,t)},required:!0}),r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",onClick:function(a){return e.postSingleCounterHandler(a,t)}}," POST COUNTER OFFER"),r.a.createElement("br",null),r.a.createElement("br",null),e.state.postCounterOfferFlag?r.a.createElement("div",{style:{color:"green"}},e.state.postCounterMsg):r.a.createElement("div",{style:{color:"red"}},e.state.postCounterMsg)))))))):"")))})):r.a.createElement("div",null," No matches yet!"),a)}}]),a}(n.Component),K=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).splitCounterOfferAmountHandler=function(e){n.setState({split_count_offer_amount:e.target.value,postCounterMsg:""})},n.postSplitCounterHandler=function(e,t,a,r){e.preventDefault(),console.log("both: ",r),console.log("postSplitCounterHandler offer1.finalAmount",t.finalAmount),console.log("postSplitCounterHandler offer2.finalAmount",a.finalAmount);var l="",o="",s=!1;if(t.remitAmount>=a.remitAmount?(console.log("offer1 to transaction split: "),n.state.split_count_offer_amount>=.9*t.remitAmount&&n.state.split_count_offer_amount<=1.1*t.remitAmount?(l=t.user.nickName,console.log("counter_offer_receiver_name 1: ",l,"amount ---",0),o={senderOffer:n.state.offer,receiverOffer:t,thirdParty:a,counter_offer_amount:n.state.split_count_offer_amount,type:"split"},s=!0):n.setState({postCounterOfferFlag:!1,postCounterMsg:"Counter offer not "+t.user.nickName+" within valid range "+.9*t.remitAmount+" - "+1.1*t.remitAmount+"!"})):(console.log("offer2 to transaction split: "),n.state.split_count_offer_amount>=.9*a.remitAmount&&n.state.split_count_offer_amount<=1.1*a.remitAmount?(l=a.user.nickName,console.log("counter_offer_receiver_name 2: ",l,"amount ---",0),o={senderOffer:n.state.offer,receiverOffer:a,thirdParty:t,counter_offer_amount:n.state.split_count_offer_amount,type:"split"},s=!0):n.setState({postCounterOfferFlag:!1,postCounterMsg:"Counter offer to "+a.user.nickName+" not within valid range "+.9*a.remitAmount+" - "+1.1*a.remitAmount+"!"})),console.log("data for transaction split: ",o),s){O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var c=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",c.sub),O.a.post("".concat(_,"/directexchange/user/counteroffer/split"),o).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Fetched All Offers: ",e.data),n.setState({postCounterOfferFlag:!0,postCounterMsg:e.data}))})).catch((function(e){console.log("Here we captured the error: ",e),n.setState({postCounterOfferFlag:!1,postCounterMsg:"Couldn't post offer, try after sometime."})}))}},n.state={offer:n.props.myOffer,submitted:!1,split_count_offer_amount:0,postCounterOfferFlag:!1,postCounterMsg:"",transactionFlag:null,transactionMsg:""},n.acceptSplitOfferHandler=n.acceptSplitOfferHandler.bind(Object(y.a)(n)),n.postSplitCounterHandler=n.postSplitCounterHandler.bind(Object(y.a)(n)),n.splitCounterOfferAmountHandler=n.splitCounterOfferAmountHandler.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"acceptSplitOfferHandler",value:function(e,t,a,n){var r=this;e.preventDefault(),console.log("offer type: ",n),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var l=Object(R.a)(localStorage.getItem("token")),o="";if("accept"===n)o={source_offer:this.state.offer.offerId,offers_matched1:t,offers_matched2:a,source_offer_amount:this.state.offer.remitAmount,counterOfferId:-1};else if("accept-match"===n){var s=0;this.state.offer.remitAmount-(t.finalAmount+a.finalAmount)>0?(console.log("if offer1.finalAmount: ",t.finalAmount),console.log("if offer2.finalAmount: ",a.finalAmount),console.log("if this.state.offer.remitAmount: ",this.state.offer.remitAmount),s=this.state.offer.remitAmount-(this.state.offer.remitAmount-(t.finalAmount+a.finalAmount))):(console.log("else offer1.finalAmount: ",t.finalAmount),console.log("else offer2.finalAmount: ",a.finalAmount),console.log("else this.state.offer.remitAmount: ",this.state.offer.remitAmount),s=this.state.offer.remitAmount+(t.finalAmount+a.finalAmount-this.state.offer.remitAmount)),console.log("after calculations; ",s),o={source_offer:this.state.offer.offerId,offers_matched1:t,offers_matched2:a,source_offer_amount:s,counterOfferId:-1}}console.log("data for transaction: ",o,"--- offer initial amount: ",this.state.offer.remitAmount),O.a.post("".concat(_,"/directexchange/api/transactions/")+l.sub,o).then((function(e){console.log("Status Code : ",e.status),200===e.status?(console.log("Posted Counter Offers: ",e.data),r.setState({transactionFlag:!0})):r.setState({transactionFlag:!1,transactionMsg:"Couldn't complete transaction. Try after sometime"})})).catch((function(e){console.log("Here we captured the error: ",e),r.setState({transactionFlag:!1})}))}},{key:"render",value:function(){var e=this;console.log("inside all split matches:",this.props.allSplitMatches);var t="";return this.state.transactionFlag&&(t=r.a.createElement(T.a,{to:{pathname:"/transact"}})),!1===this.state.transactionFlag&&r.a.createElement("div",{style:{color:"red"}},"Transaction could not be completed. Please Try after sometime"),r.a.createElement("div",null,t,this.props.allSplitMatches&&0!==this.props.allSplitMatches.length?this.props.allSplitMatches.map((function(t){return r.a.createElement("div",null,r.a.createElement("table",{className:"table mb-0 table-responsive-sm view-offer-table",style:{color:"#5a656d"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",null,"USER NAME")),r.a.createElement("th",null,r.a.createElement("div",null,"TOTAL"),r.a.createElement("div",null,"DIFFERENCE")),r.a.createElement("th",null,r.a.createElement("div",null,"SOURCE"),r.a.createElement("div",null,"OFFER")),r.a.createElement("th",null,r.a.createElement("div",null,"AMOUNT"),r.a.createElement("div",null,"TO SEND")),r.a.createElement("th",null,r.a.createElement("div",null,"EXPIRATION"),r.a.createElement("div",null,"DATE")),r.a.createElement("th",null,r.a.createElement("div",null,"OFFER"),r.a.createElement("div",null,"STATUS")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t[0].user.nickName),t[0].remitAmount>=t[1].remitAmount?parseInt(t[0].remitAmount+t[1].remitAmount)-parseInt(e.state.offer.finalAmount)>=0?r.a.createElement("td",{className:"text-success"},"+",t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",{className:"text-danger"},t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",null,r.a.createElement("div",{style:{color:"#f6f8fe"}}," None")),r.a.createElement("td",null,t[0].srcCurrency," ",t[0].remitAmount),r.a.createElement("td",null,t[0].destCurrency," ",t[0].finalAmount),r.a.createElement("td",null,t[0].expDate.substring(0,10)),r.a.createElement("td",null,t[0].status)),r.a.createElement("tr",null,r.a.createElement("td",null,t[1].user.nickName),t[1].remitAmount>t[0].remitAmount?parseInt(t[0].remitAmount+t[1].remitAmount)-parseInt(e.state.offer.finalAmount)>=0?r.a.createElement("td",{className:"text-success"},"+",t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",{className:"text-danger"},t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",null,r.a.createElement("div",{style:{color:"#f6f8fe"}}," None")),r.a.createElement("td",null,t[1].srcCurrency," ",t[1].remitAmount),r.a.createElement("td",null,t[1].destCurrency," ",t[1].finalAmount),r.a.createElement("td",null,t[1].expDate.substring(0,10)),r.a.createElement("td",null,t[1].status)))),r.a.createElement("div",{className:"buy-sell-widget"},r.a.createElement("ul",{className:"nav nav-tabs"},parseInt(t[0].remitAmount+t[1].remitAmount)-parseInt(e.state.offer.finalAmount)==0||parseInt(t[0].remitAmount+e.state.offer.finalAmount)-parseInt(t[1].remitAmount)==0||parseInt(t[1].remitAmount+e.state.offer.finalAmount)-parseInt(t[0].remitAmount)==0?r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal",onClick:function(a){return e.acceptSplitOfferHandler(a,t[0],t[1],"accept")}}," Accept "):r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal","data-target":"#acceptSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId}," Accept "),r.a.createElement("div",{className:"modal fade",id:"acceptSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId,role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"1000px",background:"#eff2f7"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"counter-offer-details"},r.a.createElement("br",null),r.a.createElement("h4",{className:"main-title"},"Accept Offer Details "),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",null,"Please note: There is a difference between your initial offer and the amount to be sent.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null," Accept below to match the offer or Post a counter offer")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",onClick:function(a){return e.acceptSplitOfferHandler(a,t[0],t[1],"accept-match")}}," ACCEPT OFFER"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},e.state.counter_error),e.state.postCounterOfferFlag?r.a.createElement("div",{style:{color:"green"}},e.state.postCounterMsg):r.a.createElement("div",{style:{color:"red"}},e.state.postCounterMsg))))))),"true"===t[0].counterOfferFlag.toString()||"true"===t[1].counterOfferFlag.toString()?r.a.createElement("div",null,r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal","data-target":"#newSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId}," Counter"),r.a.createElement("div",{className:"modal fade",id:"newSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId,role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"1000px",background:"#eff2f7"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"counter-offer-details"},r.a.createElement("br",null),r.a.createElement("h4",{className:"main-title"},"Counter Offer Details"),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",null,"Please enter your counter offer below"),r.a.createElement("br",null),r.a.createElement("div",null,"Note: The counter offer must be within the range of 90% to 110% of source remit amount"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Counter Offer Amount",name:"amount",onChange:e.splitCounterOfferAmountHandler,required:!0}),r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",onClick:function(a){return e.postSplitCounterHandler(a,t[0],t[1],t)}}," POST COUNTER OFFER"),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),e.state.postCounterOfferFlag?r.a.createElement("div",{style:{color:"green"}},e.state.postCounterMsg):r.a.createElement("div",{style:{color:"red"}},e.state.postCounterMsg)))))))):"")))})):r.a.createElement("div",null," No matches yet!"))}}]),a}(n.Component),Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).splitCounterOfferAmountHandler=function(e){n.setState({split_count_offer_amount:e.target.value,postCounterMsg:""})},n.postSplitCounterHandler=function(e,t,a,r){e.preventDefault(),console.log("both: ",r),console.log("postSplitCounterHandler offer1.finalAmount",t.finalAmount),console.log("postSplitCounterHandler offer2.finalAmount",a.finalAmount);var l="",o="",s=!1;if(t.remitAmount>=a.remitAmount?(console.log("offer1 to transaction split: "),n.state.split_count_offer_amount>=.9*t.remitAmount&&n.state.split_count_offer_amount<=1.1*t.remitAmount?(l=t.user.nickName,console.log("counter_offer_receiver_name 1: ",l,"amount ---",0),o={senderOffer:n.state.offer,receiverOffer:t,thirdParty:a,counter_offer_amount:n.state.split_count_offer_amount,type:"split"},s=!0):n.setState({postCounterOfferFlag:!1,postCounterMsg:"Counter offer not "+t.user.nickName+" within valid range "+.9*t.remitAmount+" - "+1.1*t.remitAmount+"!"})):(console.log("offer2 to transaction split: "),n.state.split_count_offer_amount>=.9*a.remitAmount&&n.state.split_count_offer_amount<=1.1*a.remitAmount?(l=a.user.nickName,console.log("counter_offer_receiver_name 2: ",l,"amount ---",0),o={senderOffer:n.state.offer,receiverOffer:a,thirdParty:t,counter_offer_amount:n.state.split_count_offer_amount,type:"split"},s=!0):n.setState({postCounterOfferFlag:!1,postCounterMsg:"Counter offer to "+a.user.nickName+" not within valid range "+.9*a.remitAmount+" - "+1.1*a.remitAmount+"!"})),console.log("data for transaction split: ",o),s){O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var c=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",c.sub),O.a.post("".concat(_,"/directexchange/user/counteroffer/split"),o).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Fetched All Offers: ",e.data),n.setState({postCounterOfferFlag:!0,postCounterMsg:e.data}))})).catch((function(e){console.log("Here we captured the error: ",e),n.setState({postCounterOfferFlag:!1,postCounterMsg:"Couldn't post offer, try after sometime."})}))}},n.state={offer:n.props.myOffer,submitted:!1,split_count_offer_amount:0,postCounterOfferFlag:!1,postCounterMsg:"",transactionFlag:null,transactionMsg:""},n.acceptSplitOfferHandler=n.acceptSplitOfferHandler.bind(Object(y.a)(n)),n.postSplitCounterHandler=n.postSplitCounterHandler.bind(Object(y.a)(n)),n.splitCounterOfferAmountHandler=n.splitCounterOfferAmountHandler.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"acceptSplitOfferHandler",value:function(e,t,a,n){var r=this;e.preventDefault(),console.log("offer type: ",n),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var l=Object(R.a)(localStorage.getItem("token")),o="";if("accept"===n)o={source_offer:this.state.offer.offerId,offers_matched1:t,offers_matched2:a,source_offer_amount:this.state.offer.remitAmount,counterOfferId:-1};else if("accept-match"===n){var s=0;s=t.finalAmount>=a.finalAmount?t.finalAmount-(this.state.offer.remitAmount+a.finalAmount)>0?this.state.offer.remitAmount+(t.finalAmount-(this.state.offer.remitAmount+a.finalAmount)):this.state.offer.remitAmount-(this.state.offer.remitAmount+a.finalAmount-t.finalAmount):a.finalAmount-(this.state.offer.remitAmount+t.finalAmount)>0?this.state.offer.remitAmount+(a.finalAmount-(this.state.offer.remitAmount+t.finalAmount)):this.state.offer.remitAmount-(this.state.offer.remitAmount+t.finalAmount-a.finalAmount),console.log("after calculations; ",s),o={source_offer:this.state.offer.offerId,offers_matched1:t,offers_matched2:a,source_offer_amount:s,counterOfferId:-1}}console.log("data for transaction: ",o,"--- offer initial amount: ",this.state.offer.remitAmount),O.a.post("".concat(_,"/directexchange/api/transactions/")+l.sub,o).then((function(e){console.log("Status Code : ",e.status),200===e.status?(console.log("Posted Counter Offers: ",e.data),r.setState({transactionFlag:!0})):r.setState({transactionFlag:!1,transactionMsg:"Couldn't complete transaction. Try after sometime"})})).catch((function(e){console.log("Here we captured the error: ",e),r.setState({transactionFlag:!1})}))}},{key:"render",value:function(){var e=this;console.log("inside all other split matches:",this.props.otherSplitMatches);var t="";return this.state.transactionFlag&&(t=r.a.createElement(T.a,{to:{pathname:"/transact"}})),!1===this.state.transactionFlag&&r.a.createElement("div",{style:{color:"red"}},"Transaction could not be completed. Please Try after sometime"),r.a.createElement("div",null,t,this.props.otherSplitMatches&&0!==this.props.otherSplitMatches.length?this.props.otherSplitMatches.map((function(t){return r.a.createElement("div",null,r.a.createElement("table",{className:"table mb-0 table-responsive-sm view-offer-table",style:{color:"#5a656d"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",null,"USER NAME")),r.a.createElement("th",null,r.a.createElement("div",null,"TOTAL"),r.a.createElement("div",null,"DIFFERENCE")),r.a.createElement("th",null,r.a.createElement("div",null,"SOURCE"),r.a.createElement("div",null,"OFFER")),r.a.createElement("th",null,r.a.createElement("div",null,"AMOUNT"),r.a.createElement("div",null,"TO SEND")),r.a.createElement("th",null,r.a.createElement("div",null,"EXPIRATION"),r.a.createElement("div",null,"DATE")),r.a.createElement("th",null,r.a.createElement("div",null,"OFFER"),r.a.createElement("div",null,"STATUS")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t[0].user.nickName),t[0].remitAmount>=t[1].remitAmount?parseInt(t[1].remitAmount+e.state.offer.finalAmount)<parseInt(t[0].remitAmount)?r.a.createElement("td",{className:"text-danger"},t[1].remitAmount+e.state.offer.finalAmount-t[0].remitAmount," ",t[0].srcCurrency):parseInt(t[1].remitAmount+e.state.offer.finalAmount)<=1.1*parseInt(t[0].remitAmount)?r.a.createElement("td",{className:"text-success"},"+",t[1].remitAmount+e.state.offer.finalAmount-t[0].remitAmount," ",t[0].srcCurrency):parseInt(t[0].remitAmount+t[1].remitAmount)-parseInt(e.state.offer.finalAmount)>=0?r.a.createElement("td",{className:"text-success"},"+",t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",{className:"text-danger"},t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",null,r.a.createElement("div",{style:{color:"#f6f8fe"}}," None")),r.a.createElement("td",null,t[0].srcCurrency," ",t[0].remitAmount),r.a.createElement("td",null,t[0].destCurrency," ",t[0].finalAmount),r.a.createElement("td",null,t[0].expDate.substring(0,10)),r.a.createElement("td",null,t[0].status)),r.a.createElement("tr",null,r.a.createElement("td",null,t[1].user.nickName),t[1].remitAmount>t[0].remitAmount?parseInt(t[0].remitAmount+e.state.offer.finalAmount)<parseInt(t[1].remitAmount)?r.a.createElement("td",{className:"text-danger"},t[0].remitAmount+e.state.offer.finalAmount-t[1].remitAmount," ",t[1].srcCurrency):parseInt(t[0].remitAmount+e.state.offer.finalAmount)<=1.1*parseInt(t[1].remitAmount)?r.a.createElement("td",{className:"text-success"},"+",t[0].remitAmount+e.state.offer.finalAmount-t[1].remitAmount," ",t[1].srcCurrency):parseInt(t[0].remitAmount+t[1].remitAmount)-parseInt(e.state.offer.finalAmount)>=0?r.a.createElement("td",{className:"text-success"},"+",t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",{className:"text-danger"},t[0].remitAmount+t[1].remitAmount-e.state.offer.finalAmount," ",t[0].srcCurrency):r.a.createElement("td",null,r.a.createElement("div",{style:{color:"#f6f8fe"}}," None")),r.a.createElement("td",null,t[1].srcCurrency," ",t[1].remitAmount),r.a.createElement("td",null,t[1].destCurrency," ",t[1].finalAmount),r.a.createElement("td",null,t[1].expDate.substring(0,10)),r.a.createElement("td",null,t[1].status)))),r.a.createElement("div",{className:"buy-sell-widget"},r.a.createElement("ul",{className:"nav nav-tabs"},parseInt(t[0].remitAmount+t[1].remitAmount)-parseInt(e.state.offer.finalAmount)==0||parseInt(t[0].remitAmount+e.state.offer.finalAmount)-parseInt(t[1].remitAmount)==0||parseInt(t[1].remitAmount+e.state.offer.finalAmount)-parseInt(t[0].remitAmount)==0?r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal",onClick:function(a){return e.acceptSplitOfferHandler(a,t[0],t[1],"accept")}}," Accept "):r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal","data-target":"#acceptSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId}," Accept "),r.a.createElement("div",{className:"modal fade",id:"acceptSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId,role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"1000px",background:"#eff2f7"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"counter-offer-details"},r.a.createElement("br",null),r.a.createElement("h4",{className:"main-title"},"Accept Offer Details "),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",null,"Please note: There is a difference between your initial offer and the amount to be sent.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null," Accept below to match the offer or Post a counter offer")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",onClick:function(a){return e.acceptSplitOfferHandler(a,t[0],t[1],"accept-match")}}," ACCEPT OFFER"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},e.state.counter_error),e.state.postCounterOfferFlag?r.a.createElement("div",{style:{color:"green"}},e.state.postCounterMsg):r.a.createElement("div",{style:{color:"red"}},e.state.postCounterMsg))))))),"true"===t[0].counterOfferFlag.toString()||"true"===t[1].counterOfferFlag.toString()?r.a.createElement("div",null,r.a.createElement("button",{className:"counter-offer-button","data-toggle":"modal","data-target":"#newSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId}," Counter"),r.a.createElement("div",{className:"modal fade",id:"newSplitOfferModalPopup"+t[0].offerId+"--"+t[1].offerId,role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"1000px",background:"#eff2f7"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"counter-offer-details"},r.a.createElement("br",null),r.a.createElement("h4",{className:"main-title"},"Counter Offer Details"),r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("div",null,"Please enter your counter offer below"),r.a.createElement("br",null),r.a.createElement("div",null,"Note: The counter offer must be within the range of 90% to 110% of source remit amount"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Counter Offer Amount",name:"amount",onChange:e.splitCounterOfferAmountHandler,required:!0}),r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",onClick:function(a){return e.postSplitCounterHandler(a,t[0],t[1],t)}}," POST COUNTER OFFER"),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),e.state.postCounterOfferFlag?r.a.createElement("div",{style:{color:"green"}},e.state.postCounterMsg):r.a.createElement("div",{style:{color:"red"}},e.state.postCounterMsg)))))))):"")))})):r.a.createElement("div",null," No matches yet!"))}}]),a}(n.Component),$=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getSingleMatches=function(e){console.log("Inside get single matches: ",e);var t=e.user.userId,a=e.finalAmount,r=e.destCurrency,l=e.srcCurrency;O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var o=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",o.sub),O.a.get("".concat(_,"/directexchange/user/allmatches/")+t+"/"+a+"/"+r+"/"+l).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Posted Counter Offers: ",e.data),n.setState({successFlag:!0,allSingleMatches:e.data.singleMatches,allSplitMatches:e.data.splitMatches,otherSplitMatches:e.data.otherSplitMatches}))})).catch((function(e){console.log("Here we captured the error: ",e),n.setState({successFlag:!1,allSingleMatches:null,allSplitMatches:null,otherSplitMatches:null})}))},n.handleRefresh=function(){window.location.reload()},n.state={offer:n.props.location.state.offer,submitted:!1,allSingleMatches:null,allSplitMatches:null,otherSplitMatches:null,counter_error:null,postCounterOfferFlag:!1,postCounterMsg:"",transactionFlag:null,transactionMsg:"",split_counter_offer_receiver:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getSingleMatches(this.state.offer)}},{key:"render",value:function(){var e="",t="";return this.state.transactionFlag&&(e=r.a.createElement(T.a,{to:{pathname:"/transact"}})),0==this.state.transactionFlag&&(t=r.a.createElement("div",{style:{color:"red"}},"Transaction could not be completed. Please Try after sometime")),r.a.createElement("div",null,e,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"card",style:{width:"fit-content"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title",style:{fontSize:"28px"}},"My Original Offer")),r.a.createElement("div",{className:"card-body pt-0"},r.a.createElement("div",{className:"transaction-table"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table mb-0 table-responsive-sm view-offer-table",style:{color:"#5a656d"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",null,"USER"),r.a.createElement("div",null,"NAME")),r.a.createElement("th",null,r.a.createElement("div",null,"SOURCE"),r.a.createElement("div",null,"OFFER")),r.a.createElement("th",null,r.a.createElement("div",null,"AMOUNT"),r.a.createElement("div",null,"TO SEND")),r.a.createElement("th",null,r.a.createElement("div",null,"EXPIRATION"),r.a.createElement("div",null,"DATE")),r.a.createElement("th",null,r.a.createElement("div",null,"OFFER"),r.a.createElement("div",null,"STATUS")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.state.offer.user.nickName),r.a.createElement("td",null,this.state.offer.srcCurrency," ",this.state.offer.remitAmount),r.a.createElement("td",null,this.state.offer.destCurrency," ",this.state.offer.finalAmount),r.a.createElement("td",null,this.state.offer.expDate.substring(0,10)),r.a.createElement("td",null,this.state.offer.status)))),r.a.createElement("br",null),t))),r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-title",style:{fontSize:"28px"}},"View All Matching Offers")),r.a.createElement(X.a,{trigger:"View Single Matches",triggerClassName:"view-collapsible-tab view-single-match-collapsible-tab",triggerOpenedClassName:"view-collapsible-tab view-single-match-collapsible-tab"},r.a.createElement("div",{className:"card-body pt-0"},r.a.createElement("div",{className:"transaction-table"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(W,{allSingleMatches:this.state.allSingleMatches,myOffer:this.state.offer,handleRefresh:this.handleRefresh}))))),this.state.offer.splitOfferFlag?r.a.createElement(X.a,{trigger:"View Split Matches",triggerClassName:"view-collapsible-tab view-split-match-collapsible-tab",triggerOpenedClassName:"view-collapsible-tab view-split-match-collapsible-tab"},r.a.createElement("div",{className:"card-body pt-0"},r.a.createElement("div",{className:"transaction-table"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(K,{allSplitMatches:this.state.allSplitMatches,myOffer:this.state.offer,handleRefresh:this.handleRefresh}))))):"",r.a.createElement(X.a,{trigger:"View Matches in Others Split Offers",triggerClassName:"view-collapsible-tab view-other-split-match-collapsible-tab",triggerOpenedClassName:"view-collapsible-tab view-other-split-match-collapsible-tab"},r.a.createElement("div",{className:"card-body pt-0"},r.a.createElement("div",{className:"transaction-table"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(Q,{otherSplitMatches:this.state.otherSplitMatches,myOffer:this.state.offer,handleRefresh:this.handleRefresh}))))))))))}}]),a}(n.Component),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).calculateAmountRecieved=function(){return(n.props.details.offerDetails.exchangeRate*parseFloat(n.props.details.offerDetails.remitAmount)*.9995).toFixed(2)},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=new FormData;t.append("offer_id",n.props.details.offerDetails.offerId),t.append("transaction_id",n.props.details.transactionId),t.append("remit_accountid",n.state.remitAccountId),t.append("destination_accountid",n.state.destinationAccountId),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var a=Object(R.a)(localStorage.getItem("token"));O.a.put("".concat(_,"/directexchange/api/transactions/")+a.sub,t).then((function(e){200===e.status&&alert("Details have been saved!")})).catch((function(e){alert(e.response.data)})),setTimeout((function(){return window.location.reload()}),1e3)},n.state={remitAccountId:"",destinationAccountId:""},n.destinationAccRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"getRemitAccount",value:function(){var e=this;return this.props.bankAccounts.filter((function(t){return t.primaryCurrency===e.props.details.offerDetails.srcCurrency&&"Recieve"!==t.features})).map((function(e){return r.a.createElement("option",{value:e.bankAccountId},e.bankName,"-",e.accountNumber)}))}},{key:"getDestAccount",value:function(){var e=this;return this.props.bankAccounts.filter((function(t){return t.primaryCurrency==e.props.details.offerDetails.destCurrency&&"Send"!==t.features&&t.bankAccountId!=e.state.remitAccountId})).map((function(e){return r.a.createElement("option",{value:e.bankAccountId},e.bankName,"-",e.accountNumber)}))}},{key:"toggleClass",value:function(){""!==this.state.remitAccountId&&null!==this.destinationAccRef.current?this.destinationAccRef.current.classList.remove("hidden"):null!==this.destinationAccRef.current&&this.destinationAccRef.current.classList.add("hidden")}},{key:"render",value:function(){var e;this.toggleClass();var t=this.getRemitAccount(),a="",n="";return""!==this.state.remitAccountId&&(n=this.getDestAccount()),a=0==t.length?"Please enter a bank account with "+this.props.details.offerDetails.srcCurrency+" currency":0==n.length&&""!=this.state.remitAccountId?"Please enter a bank account with "+this.props.details.offerDetails.destCurrency+" currency":"",r.a.createElement("div",null,r.a.createElement("button",{className:"post-offer-button","data-toggle":"modal","data-target":"#transactionDetailsModalPopup"+this.props.details.id},"Fill Details"),r.a.createElement("div",{class:"modal fade",id:"transactionDetailsModalPopup"+this.props.details.id,role:"dialog","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{class:"modal-content",style:{width:"850px",height:"300px",background:"#eff2f7"}},r.a.createElement("div",{class:"modal-body",style:{padding:"0px"}},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px",position:"relative",left:"40px"}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"transaction-details"},r.a.createElement("h4",{class:"main-title"},"Transaction Details"),r.a.createElement("h6",{style:{color:"red"}},a),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",name:"remitAccountId",value:this.state.remitAccountId,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Remit Account"),t)),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",(e={class:"form-control",name:"destinationAccountId",value:this.state.destinationAccountId,ref:this.destinationAccRef,onChange:this.onChange},Object(b.a)(e,"class","hidden"),Object(b.a)(e,"required",!0),e),r.a.createElement("option",{defaultValue:!0,value:""},"Receiving Account"),n)),r.a.createElement("div",{className:"btn-footer"},r.a.createElement("button",{type:"submit",class:"custom-btn1"},"SUBMIT"))),r.a.createElement("div",{className:"modal-sidebar",style:{padding:"50px"}},r.a.createElement("div",{id:"amount-details"},r.a.createElement("h5",null,"Remit Amount",r.a.createElement("br",null),this.props.details.offerDetails.remitAmount),r.a.createElement("h5",null,"They will recieve"),r.a.createElement("div",{class:"return-output",style:{fontSize:"24px"}},this.props.details.offerDetails.destCurrency," ",this.calculateAmountRecieved()),r.a.createElement("small",{class:"form-text text-muted",style:{marginBottom:"20px"}},"Includes transaction fee of 0.05%")))))))))}}]),a}(n.Component),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getMinDate=function(){var e=new Date,t=e.setDate(e.getDate()+1);return new Date(t).toISOString().substr(0,10)},n.calculateAmountRecieved=function(){if(""!==n.state.source_currency&&""!==n.state.destination_currency&&""!==n.state.amount)return(.9995*parseFloat(n.state.amount).toFixed(2)).toFixed(2)},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.handleCheckboxChange=function(e){return n.setState(Object(b.a)({},e.target.name,e.target.checked))},n.fillDetails=function(){var e=new FormData;e.append("offer_id",n.props.details.offerDetails.offerId),e.append("transaction_id",n.props.details.transactionId),console.log(n.props.details.transactionId),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));O.a.put("".concat(_,"/directexchange/api/transactions/")+t.sub,e).then((function(e){200===e.status&&window.location.reload()}))},n.state={receiptAmount:0,source_currency:"",destination_currency:"",source_country:"",destination_country:"",amount:"",expirationdate:"",minDate:"",allowCounterOffers:!0,allowOfferSplit:!0},n.amountDetailsRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({receiptAmount:this.props.details.offerDetails.exchangeRate*parseFloat(this.props.details.offerDetails.remitAmount).toFixed(2)*.9995})}},{key:"render",value:function(){var e="badge badge-danger";return"pending"===this.props.details.transactionStatus?e="badge badge-warning":"completed"===this.props.details.transactionStatus&&(e="badge badge-success"),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{class:e},this.props.details.transactionStatus.toUpperCase())),r.a.createElement("td",null,r.a.createElement("small",null,"Date"),r.a.createElement("br",null),this.props.details.expirationDate.substr(0,10)),r.a.createElement("td",null,r.a.createElement("small",null," Remit Amount"),r.a.createElement("br",null),this.props.details.offerDetails.srcCurrency," ",this.props.details.offerDetails.remitAmount),r.a.createElement("td",null,r.a.createElement("small",null,"Final Amount"),r.a.createElement("br",null),this.props.details.offerDetails.destCurrency," ",this.props.details.offerDetails.finalAmount," ",r.a.createElement("br",null)),r.a.createElement("td",null,r.a.createElement("small",null,"Service Fees"),r.a.createElement("br",null),this.props.details.offerDetails.destCurrency," ",(5e-4*parseFloat(this.props.details.offerDetails.finalAmount)).toFixed(2)," "),r.a.createElement("td",null,r.a.createElement("br",null),r.a.createElement("small",null,"Recipient gets"),r.a.createElement("br",null),this.props.details.offerDetails.destCurrency," ",this.state.receiptAmount.toFixed(2),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("em",null,"*total after service fees"))),r.a.createElement("td",null,r.a.createElement("small",null," Exchange Rate"),r.a.createElement("br",null),Math.round(1e3*this.props.details.offerDetails.exchangeRate)/1e3),"pending"===this.props.details.transactionStatus?r.a.createElement("td",{class:"text-danger"},this.props.details.is_complete?r.a.createElement(r.a.Fragment,null,"Waiting for other parties"):r.a.createElement(ee,{details:this.props.details,bankAccounts:this.props.bankAccounts})):r.a.createElement("td",{style:{fontWeight:"500"}},"Transaction has been ",this.props.details.transactionStatus))}}]),a}(n.Component),ae=(a(81),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={transactionDetails:[],bankAccounts:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));O.a.get("".concat(_,"/directexchange/api/transactions/")+t.sub).then((function(t){200==t.status&&e.setState({transactionDetails:t.data.transactionDetails,bankAccounts:t.data.bankAccounts})})).catch((function(e){alert("Something went wrong! Please try again later.")}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h4",{class:"card-title"},"Transaction Details")),r.a.createElement("div",{class:"card-body pt-0"},r.a.createElement("div",{class:"transaction-table"},r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table mb-0 table-responsive-sm"},r.a.createElement("tbody",null,this.state.transactionDetails.map((function(t,a){return r.a.createElement(te,{key:a,details:t,bankAccounts:e.state.bankAccounts})})))))))))))}}]),a}(n.Component)),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.getCurrencies=function(){return G.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name," - ",e.code)}))},n.calculateAmountRecieved=function(){if(""!==n.state.source_currency&&""!==n.state.destination_currency&&""!==n.state.amount){var e=L[n.state.source_currency][n.state.destination_currency]*parseFloat(n.state.amount).toFixed(2)*.9995;return n.state.amount+" "+n.state.source_currency+" in "+n.state.destination_currency+" is "+e.toFixed(2)}},n.state={source_currency:"",destination_currency:"",amount:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"Prevailing rates"),r.a.createElement("br",null),r.a.createElement("a",{href:"#A",style:{fontSize:"20px"}},"Calculate for custom amount?"),r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-8",style:{marginTop:"20px",alignSelf:"center",marginLeft:"-60px"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"buy-sell-widget"},r.a.createElement("table",{class:"table table-hover"},r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}," #"),r.a.createElement("th",{scope:"col"},"USD"),r.a.createElement("th",{scope:"col"},"EUR"),r.a.createElement("th",{scope:"col"},"GBP"),r.a.createElement("th",{scope:"col"},"INR"),r.a.createElement("th",{scope:"col"},"RMB"))),r.a.createElement("tr",null,r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("th",{scope:"row"},"USD")),r.a.createElement("td",null,L.USD.USD.toFixed(2)),r.a.createElement("td",null,L.USD.EUR.toFixed(2)),r.a.createElement("td",null,L.USD.GBP.toFixed(2)),r.a.createElement("td",null,L.USD.INR.toFixed(2)),r.a.createElement("td",null,L.USD.RMB.toFixed(2))),r.a.createElement("tr",null,r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("th",{scope:"row"},"EUR")),r.a.createElement("td",null,L.EUR.USD.toFixed(2)),r.a.createElement("td",null,L.EUR.EUR.toFixed(2)),r.a.createElement("td",null,L.EUR.GBP.toFixed(2)),r.a.createElement("td",null,L.EUR.INR.toFixed(2)),r.a.createElement("td",null,L.EUR.RMB.toFixed(2))),r.a.createElement("tr",null,r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("th",{scope:"row"},"GBP")),r.a.createElement("td",null,L.GBP.USD.toFixed(2)),r.a.createElement("td",null,L.GBP.EUR.toFixed(2)),r.a.createElement("td",null,L.GBP.GBP.toFixed(2)),r.a.createElement("td",null,L.GBP.INR.toFixed(2)),r.a.createElement("td",null,L.GBP.RMB.toFixed(2))),r.a.createElement("tr",null,r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("th",{scope:"row"},"INR")),r.a.createElement("td",null,L.INR.USD.toFixed(2)),r.a.createElement("td",null,L.INR.EUR.toFixed(2)),r.a.createElement("td",null,L.INR.GBP.toFixed(2)),r.a.createElement("td",null,L.INR.INR.toFixed(2)),r.a.createElement("td",null,L.INR.RMB.toFixed(2))),r.a.createElement("tr",null,r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("th",{scope:"row"},"RMB")),r.a.createElement("td",null,L.RMB.USD.toFixed(2)),r.a.createElement("td",null,L.RMB.EUR.toFixed(2)),r.a.createElement("td",null,L.RMB.GBP.toFixed(2)),r.a.createElement("td",null,L.RMB.INR.toFixed(2)),r.a.createElement("td",null,L.RMB.RMB.toFixed(2))))))),r.a.createElement("br",null),r.a.createElement("span",{className:"PageTitle"},"Calculate for custom amount"),r.a.createElement("br",null),r.a.createElement("a",{name:"A"}),r.a.createElement("div",{className:"col-md-8",style:{marginTop:"20px",alignSelf:"center",marginLeft:"-60px"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"buy-sell-widget"},r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("h3",null,"Exchange Rates"),r.a.createElement("br",null),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{name:"amount",type:"number",min:"0",step:"0.01",className:"form-control",placeholder:"Enter Amount",style:{fontSize:"20px"},required:!0,value:this.state.amount,onChange:this.onChange}))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{name:"source_currency",className:"form-control",style:{fontSize:"20px"},value:this.state.source_currency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Source Currency"),this.getCurrencies()))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{name:"destination_currency",className:"form-control",style:{fontSize:"20px"},value:this.state.destination_currency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Destination Currency"),this.getCurrencies())))),r.a.createElement("br",null),r.a.createElement("h3",null,this.calculateAmountRecieved()),r.a.createElement("br",null))))))))}}]),a}(n.Component),re=a(29),le=a(17),oe=a(30),se=a(31);function ce(){var e=Object(oe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n"]);return ce=function(){return e},e}function ie(){var e=Object(oe.a)(["\n  width: 40px;\n  height: 40px;\n  font-size: 18px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: 1.33;\n  letter-spacing: normal;\n  text-align: center;\n  color: ",";\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  border-radius: 3px;\n  border: solid 1px ",";\n  background-color: #ffffff;\n  margin: 0 2px;\n\n  :disabled {\n    opacity: 0.4;\n  }\n  outline: none;\n"]);return ie=function(){return e},e}var me=se.a.button(ie(),(function(e){return e.active?"#009fde":"#666666"}),(function(e){return e.active?"#009fde":"#e2e2e2"})),ue=se.a.div(ce()),de=function(e){var t=e.totalPages,a=e.current,n=e.changePage,l=e.recalculate,o=e.toggleRecalculate,s=e.startIn,c=e.mode,i=6;"mobile"===c&&(i=4),i=t>i?i:t;var m=r.a.useState([]),u=Object(le.a)(m,2),d=u[0],f=u[1];console.log("PaginationNumbers",t,a);var p=a+(i-2);r.a.useEffect((function(){var e=d.slice().map((function(e){return Object(re.a)(Object(re.a)({},e),{},{active:e.text===a})}));f(e)}),[a]),r.a.useEffect((function(){var e=i+s>t?t:i+s;console.log("useeeffect startIn",a,s,e);for(var r=[],l=function(e){r.push({text:e,active:a===e,onClick:function(){return n(e)}})},o=s;o<e;o++)l(o);a<t-(i-1)&&(r.push({text:"...",active:!1,onClick:function(){return h()}}),r.push({text:t,active:a===t,onClick:function(){return n(t)}}),r.shift(),r.shift()),f(r)}),[s]),r.a.useEffect((function(){console.log("useeeffect recalculate",a,s);var e=0;t-a<5&&(e=i-1);for(var r=[],l=function(e){r.push({text:e,active:a===e,onClick:function(){return n(e)}})},o=a-e;o<i+a-e;o++)l(o);a<t-5&&(r[i-2]={text:"...",active:!1,onClick:function(){return h()}},r[i-1]={text:t,active:a===t,onClick:function(){return n(t)}}),f(r)}),[l]);var h=function(){console.log("ellipsis!!"),n(p),o(!l)};return r.a.createElement(r.a.Fragment,null,d.map((function(e,t){return r.a.createElement(me,{key:t,active:e.active,onClick:e.onClick},e.text)})))};function fe(e){var t=e.elementToRender,a=e.elementsPerPage,n=e.handleNextPage,l=e.totalPages,o=r.a.useState(1),s=Object(le.a)(o,2),c=s[0],i=s[1],m=r.a.useState([]),u=Object(le.a)(m,2),d=u[0],f=u[1],p=r.a.useState(0),h=Object(le.a)(p,2),E=h[0],g=h[1],v=r.a.useState(!1),b=Object(le.a)(v,2),y=b[0],C=b[1];return r.a.useEffect((function(){var e=n(c,a);f(e)}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},d.map((function(e){return t(e)}))),r.a.createElement(ue,null,r.a.createElement(me,{onClick:function(){return i(c-1)||g(c-4>0?c-4:1)||C(!y)},disabled:1===c},r.a.createElement("span",null,"Prev")),r.a.createElement(de,{totalPages:l,current:c,changePage:function(e){return i(e)},recalculate:y,toggleRecalculate:C,startIn:E}),r.a.createElement(me,{onClick:function(){return i(c+1)||C(!y)},disabled:c===l},r.a.createElement("span",null,"Next"))))}var pe=a(23),he=a.n(pe),Ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return console.log("history: ",this.props.history),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header border-0"},r.a.createElement("h4",{className:"card-title"},"Transaction History"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",style:{padding:"10px"}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"card-body pt-0",style:{width:"fit-content"}},r.a.createElement("div",{className:"transaction-table"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table mb-0 table-responsive-sm"},r.a.createElement("tbody",null,this.props.history.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,"Status",r.a.createElement("br",null),r.a.createElement("span",null,e[1])),r.a.createElement("td",null,"Remit Amount",r.a.createElement("br",null),e[5]," ",e[4]),r.a.createElement("td",null,"Recipient gets",r.a.createElement("br",null),e[7]," ",+e[4]*(+e[6]).toFixed(2)),r.a.createElement("td",null,"Exchange Rate",r.a.createElement("br",null),Math.round(1e3*e[6])/1e3),r.a.createElement("td",null,"User",r.a.createElement("br",null),e[3].substring(0,2)),r.a.createElement("td",null,"At-fault",r.a.createElement("br",null),1==e[8]?"No":"Yes"))})))))))))}}]),a}(n.Component),ge=(a(86),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={historyFlag:!1,historyDetails:null},e.transactionHistoryHandler=e.transactionHistoryHandler.bind(Object(y.a)(e)),e}return Object(c.a)(a,[{key:"transactionHistoryHandler",value:function(e,t){var a=this;console.log("offer details: ",e.user.userId),t.preventDefault(),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");Object(R.a)(localStorage.getItem("token"));O.a.get("".concat(_,"/directexchange/api/transactions/history/")+e.user.userId).then((function(e){console.log("Status Code : ",e.status),200===e.status?(console.log("Posted Counter Offers: ",e.data),a.setState({historyFlag:!0,historyDetails:e.data})):a.setState({historyFlag:!1})})).catch((function(e){console.log("Here we captured the error: ",e),a.setState({historyFlag:!1})}))}},{key:"render",value:function(){var e=this;return console.log("all history details: ",this.state.historyDetails,"  flag: ",this.state.historyFlag),r.a.createElement("div",{className:"col-md-6",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"offerContainer"},r.a.createElement("span",null,"Posted By: ",r.a.createElement("span",{className:"postedBy"},this.props.postedBy)," \u2003",this.props.offerObj.user.rating>0?r.a.createElement("span",{className:"transaction-trigger",onClick:function(t){return e.transactionHistoryHandler(e.props.offerObj,t)},"data-toggle":"modal","data-target":"#transactionHistoryModalPopup"},r.a.createElement("span",{className:"postedBy"},r.a.createElement("span",{style:{color:"#8691b4"}},"Rating: "),this.props.offerObj.user.rating,"\xa0",r.a.createElement("span",null,r.a.createElement(he.a,{rating:1,starRatedColor:"red",starDimension:"17px",numberOfStars:1,name:"rating"})))):""),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px 0"}},r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"From:"),r.a.createElement("span",{className:"offerCountry"},this.props.srcCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.srcCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.remitAmount))),r.a.createElement("span",{className:"arrowContainer"},r.a.createElement("i",{className:"arrowC la la-arrow-right"})),r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"To:"),r.a.createElement("span",{className:"offerCountry"},this.props.destCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.destCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.finalAmount)))),r.a.createElement(D.a,{to:{pathname:"/ViewOffer",state:{offerObj:this.props.offerObj}},className:"customBtn"},"View Offer")),this.state.historyFlag&&this.state.historyDetails&&this.state.historyDetails.transactionHistory&&0!=this.state.historyDetails.transactionHistory.length?r.a.createElement("div",{className:"modal fade",id:"transactionHistoryModalPopup",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content",style:{background:"#eff2f7",width:"fit-content"}},r.a.createElement("div",{className:"modal-body",style:{padding:"0px"}},r.a.createElement(Ee,{history:this.state.historyDetails.transactionHistory}))))):"")}}]),a}(n.Component)),ve=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).getCurrencies=function(){return G.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name," - ",e.code)}))},e.getCountries=function(e){return V[e].split("|").filter((function(e){return""!==e})).map((function(e){return r.a.createElement("option",{value:e},e)}))},e.filterUpdate=function(t,a){var n=t.target.value;""!==n&&"true"!==n||(n=null),e.setState(Object(b.a)({},a,n))},e.state={srcCountry:null,srcCurrency:null,srcPriceStart:null,srcPriceEnd:null,destCountry:null,destCurrency:null,destPriceStart:null,destPriceEnd:null,dataFetched:{},isLoading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("token")){O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));O.a.get("".concat(_,"/directexchange/user/allOffers/")+t.sub).then((function(t){200===t.status&&e.setState({dataFetched:t.data,isLoading:!1})})).catch((function(t){console.log("Here we captured the error: ",t),e.setState({dataFetched:null,isLoading:!0})}))}}},{key:"render",value:function(){var e=this,t=Object.assign([],this.state.dataFetched);console.log(this.state);var a=t.filter((function(t){return null==e.state.srcCountry||t.srcCountry.includes(e.state.srcCountry)?t:void 0})).filter((function(t){return null==e.state.srcCurrency||t.srcCurrency.includes(e.state.srcCurrency)?t:void 0})).filter((function(t){return null==e.state.srcPriceStart||t.remitAmount>=e.state.srcPriceStart?t:void 0})).filter((function(t){return null==e.state.srcPriceEnd||t.remitAmount<=e.state.srcPriceEnd?t:void 0})).filter((function(t){return null==e.state.destCountry||t.destCountry.includes(e.state.destCountry)?t:void 0})).filter((function(t){return null==e.state.destCurrency||t.destCurrency.includes(e.state.destCurrency)?t:void 0})).filter((function(t){return null==e.state.destCurrency||t.destCurrency.includes(e.state.destCurrency)?t:void 0})).filter((function(t){return null==e.state.destPriceStart||t.finalAmount>=e.state.destPriceStart?t:void 0})).filter((function(t){return null==e.state.destPriceEnd||t.finalAmount<=e.state.destPriceEnd?t:void 0})).map((function(e){return r.a.createElement(ge,{offerObj:e,key:e.offerId,postedBy:e.user.nickName,srcCountry:e.srcCountry,srcCurrency:e.srcCurrency,remitAmount:e.remitAmount,destCurrency:e.destCurrency,destCountry:e.destCountry,finalAmount:e.finalAmount})})),n=(Array(400).fill(0).map((function(e,t){return t})),Math.ceil(a.length/10)),l=null;return localStorage.getItem("token")||(l=r.a.createElement(p.a,{to:"/login"})),r.a.createElement("div",null,l,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"View All Offers"),r.a.createElement("div",{className:"row",style:{marginTop:"40px"}},r.a.createElement("div",{className:"col-xl-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},"Filters"),r.a.createElement("div",{style:{marginTop:"30px"}},r.a.createElement("div",{className:"myFormGroup form-group"},r.a.createElement("label",{className:"myInputLabel"},"Source Country"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.filterUpdate(t,"srcCountry")}},r.a.createElement("option",{value:!0},"Select"),r.a.createElement("option",{value:"United States"},"United States"),r.a.createElement("option",{value:"India"},"India"),r.a.createElement("option",{value:"United Kingdom"},"United Kingdom"),r.a.createElement("option",{value:"China"},"China"),r.a.createElement("option",{value:"Europe"},"Europe"))),r.a.createElement("div",{className:"myFormGroup form-group"},r.a.createElement("label",{className:"myInputLabel"},"Source Currency"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.filterUpdate(t,"srcCurrency")}},r.a.createElement("option",{value:!0},"Select"),this.getCurrencies())),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{className:"myInputLabel"},"Remit"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Start",onChange:function(t){return e.filterUpdate(t,"srcPriceStart")}})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{className:"myInputLabel"},"\xa0"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"End",onChange:function(t){return e.filterUpdate(t,"srcPriceEnd")}})))),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("div",{className:"myFormGroup form-group"},r.a.createElement("label",{className:"myInputLabel"},"Target Country"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.filterUpdate(t,"destCountry")}},r.a.createElement("option",{value:!0},"Select"),r.a.createElement("option",{value:"United States"},"United States"),r.a.createElement("option",{value:"India"},"India"),r.a.createElement("option",{value:"United Kingdom"},"United Kingdom"),r.a.createElement("option",{value:"China"},"China"),r.a.createElement("option",{value:"Europe"},"Europe"))),r.a.createElement("div",{className:"myFormGroup form-group"},r.a.createElement("label",{className:"myInputLabel"},"Target Currency"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.filterUpdate(t,"destCurrency")}},r.a.createElement("option",{value:!0},"Select"),this.getCurrencies())),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{className:"myInputLabel"},"Price"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Start",onChange:function(t){return e.filterUpdate(t,"destPriceStart")}})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{className:"myInputLabel"},"\xa0"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"End",onChange:function(t){return e.filterUpdate(t,"destPriceEnd")}}))))))),r.a.createElement("div",{className:"col-xl-9",style:{maxWidth:"900px"}},this.state.isLoading?r.a.createElement("div",{className:"preloading"},r.a.createElement("div",{id:"preloader"},r.a.createElement("div",{className:"sk-three-bounce"},r.a.createElement("div",{className:"sk-child sk-bounce1"}),r.a.createElement("div",{className:"sk-child sk-bounce2"}),r.a.createElement("div",{className:"sk-child sk-bounce3"})))):r.a.createElement(fe,{elementToRender:function(e){return e},elementsPerPage:10,totalPages:n,handleNextPage:function(e,t){var n=e-1;return a.slice(n*t,(n+1)*t)}}))))))}}]),a}(n.Component),be=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).sendMessage=function(){var t=new FormData;t.append("receiver_name",e.props.location.state.offerObj.user.nickName),t.append("receiver_email",e.props.location.state.offerObj.user.emailId),t.append("message",e.state.message),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var a=Object(R.a)(localStorage.getItem("token"));O.a.post("".concat(_,"/directexchange/api/message/")+a.sub,t).then((function(e){200===e.status&&window.location.reload()}))},e.rejectCounterHandler=function(t){t.preventDefault(),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");Object(R.a)(localStorage.getItem("token"));var a={counterOfferId:e.props.location.state.counterOfferId,senderInitialOfferId:e.props.location.state.offerObj.offerId,rejectMsgFromUser:e.props.location.state.receiverOfferObj.user.nickName,rejectMsgToEmail:e.props.location.state.offerObj.user.emailId};O.a.put("".concat(_,"/directexchange/user/counteroffer"),a).then((function(t){console.log("Status Code : ",t.status),200===t.status?(console.log("Posted Counter Offers: ",t.data),e.setState({rejectFlag:!0})):e.setState({rejectFlag:!1})})).catch((function(t){console.log("Here we captured the error: ",t),e.setState({rejectFlag:!1})}))},e.state={message:null,showMessage:!1,rejectFlag:null},e.rejectCounterHandler=e.rejectCounterHandler.bind(Object(y.a)(e)),e.acceptSingleOfferHandler=e.acceptSingleOfferHandler.bind(Object(y.a)(e)),e}return Object(c.a)(a,[{key:"acceptSingleOfferHandler",value:function(e){e.preventDefault(),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");Object(R.a)(localStorage.getItem("token"));var t={source_offer:this.props.location.state.receiverOfferObj,offers_matched:this.props.location.state.offerObj,source_offer_amount:this.props.location.state.counterOfferAmount};console.log("counter offer data: ",t)}},{key:"render",value:function(){var e=this,t=this.props.location.state.offerObj,a=(this.props.location.state.nickName,this.props.location.state.counterOfferAmount),n=this.props.location.state.receiverOfferObj,l=this.props.location.state.counterOfferId;console.log(t),console.log("counterOfferId: ",l),console.log("sender: ",t),console.log("receiver: ",n);var o="",s="";return 0==this.state.rejectFlag?o=r.a.createElement("div",{style:{color:"red"}},"Couldn't reject counter offer, Try after sometime."):this.state.rejectFlag&&(s=r.a.createElement(T.a,{to:{pathname:"/viewCounterOffers"}})),r.a.createElement("div",null,s,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"View Offer Details"),r.a.createElement("div",{className:"col-md-10",style:{maxWidth:"800px",alignSelf:"center",marginTop:"30px"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"buyer-seller"},r.a.createElement("div",{className:"d-flex justify-content-between mb-3"},r.a.createElement("div",{className:"buyer-info"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",null,"Posted By"),r.a.createElement("h4",null,r.a.createElement("span",{class:"userThumb"},r.a.createElement("i",{class:"mdi mdi-account"})),t.user.nickName,r.a.createElement("span",null,t.user.rating>0?r.a.createElement("span",null,"\xa0",t.user.rating,"\xa0",r.a.createElement(he.a,{rating:1,starRatedColor:"red",starDimension:"17px",numberOfStars:1,name:"rating"})):"")),this.state.showMessage?"":r.a.createElement("button",{className:"btn btn-primary myButton2",style:{height:"30px",marginLeft:"38px"},onClick:function(t){return e.setState({showMessage:!0})}},"Message"))))),this.state.showMessage?r.a.createElement("div",{className:"form-row",style:{justifyContent:"flex-end"}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("textarea",{type:"text",className:"form-control",placeholder:"Enter Message",onChange:function(t){return e.setState({message:t.target.value})}})),r.a.createElement("button",{className:"btn btn-primary myButton",onClick:function(t){return e.sendMessage()}},"Send Message!")):"",r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,"Source Country")),r.a.createElement("td",null,r.a.createElement("span",null,t.srcCountry))),r.a.createElement("tr",null,r.a.createElement("td",null,"Remit Amount"),r.a.createElement("td",null,t.srcCurrency," ",t.remitAmount)),a?r.a.createElement("tr",null,r.a.createElement("td",null,"Counter Offer Amount"),r.a.createElement("td",null,t.srcCurrency," ",a)):"",r.a.createElement("tr",null,r.a.createElement("td",null,"Exchange Rate"),r.a.createElement("td",null,t.exchangeRate)),r.a.createElement("tr",null,r.a.createElement("td",null,"Destination Country"),r.a.createElement("td",null,t.destCountry)),r.a.createElement("tr",null,r.a.createElement("td",null,"Final Exchanges Amount"),r.a.createElement("td",null,t.destCurrency," ",t.finalAmount)),r.a.createElement("tr",null,r.a.createElement("td",null,"Expiry Date"),r.a.createElement("td",null,Date(t.expDate))),r.a.createElement("tr",null,r.a.createElement("td",null,"Offer Split Allowed"),r.a.createElement("td",null,t.splitOfferFlag?"Yes":"No"))))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center"}},o))))))))}}]),a}(n.Component),ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getUrlParameter",value:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(this.props.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},{key:"render",value:function(){var e=this.getUrlParameter("token"),t=this.getUrlParameter("error");if(console.log("I did come here!!!",e,t),e){localStorage.setItem("token",e);var a=Object(R.a)(localStorage.getItem("token"));return console.log("decodedUserId: ",a.nickName),localStorage.setItem("nickName",a.nickName),r.a.createElement(p.a,{to:{pathname:"/",state:{from:this.props.location}}})}return r.a.createElement(p.a,{to:{pathname:"/login",state:{from:this.props.location,error:t}}})}}]),a}(n.Component),Ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).submitSignUp=function(e){e.preventDefault();var t={code:n.state.code};console.log("sign up data: ",t),O.a.defaults.withCredentials=!0,O.a.post("".concat(_,"/directexchange/auth/verify"),t).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Successfully Verified: ",e.data),n.setState({successFlag:!0}))})).catch((function(e){console.log("Error ******** :",e),n.setState({code:null,successFlag:!1,errorFlag:!0,msg:e.response.data})}))},n.state={code:"",successFlag:!1,errorFlag:!1},n.changeHandler=n.changeHandler.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=null,t=null;return localStorage.getItem("token")&&(t=r.a.createElement(p.a,{to:{pathname:"/login"}})),!0===this.state.successFlag?(t=r.a.createElement(p.a,{to:{pathname:"/login",state:{from:"verified",msg:"Successfully Verified Code"}}}),e=r.a.createElement("div",{class:"alert alert-success",role:"alert"},"Successfully Registered, Please Verify Your Email!",r.a.createElement("a",{href:"/verify"}," Verify here."))):!0===this.state.errorFlag&&(e=r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.msg)),console.log("msg from java controller: ",this.state.msg),r.a.createElement("div",null,t,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},"Enter code for verification with DirectExchange"),r.a.createElement("form",{onSubmit:this.submitSignUp},r.a.createElement("div",{className:"form-item"},r.a.createElement("input",{onChange:this.changeHandler,type:"code",className:"form-control",name:"code",value:this.state.code,required:!0,placeholder:"Verification Code"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("button",{className:"btn btn-block btn-primary",type:"submit"},"Submit")),e))))}}]),a}(n.Component),Oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).submitProfileUpdate=function(e){e.preventDefault();var t={nickName:n.state.nickName};console.log("Update Profile: ",t),O.a.defaults.withCredentials=!0;var a=Object(R.a)(localStorage.getItem("token"));O.a.put("".concat(_,"/directexchange/profile/")+a.sub,t).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Successfully Updated User Profile: ",e.data),n.setState({successFlag:!0}),localStorage.setItem("nickName",n.state.nickName))})).catch((function(e){console.log("Error ******** :",e),n.setState({successFlag:!1,errorFlag:!0,msg:e.response.data})}))},n.state={code:"",successFlag:!1,errorFlag:!1},n.changeHandler=n.changeHandler.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("token")){O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",t.sub),O.a.get("".concat(_,"/directexchange/profile/")+t.sub).then((function(t){console.log("Status Code : ",t.status),200===t.status&&(console.log("Fetched User: ",t.data),e.setState({emailId:t.data.emailId,nickName:t.data.nickName}))})).catch((function(t){console.log("Here we captured the error: ",t),e.setState({successFlag:!1,user:null})}))}else r.a.createElement(p.a,{to:"/login"})}},{key:"changeHandler",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=null,t=null;return!0===this.state.successFlag?e=r.a.createElement("div",{class:"alert alert-success",role:"alert"},"Profile Successfully Updated!"):!0===this.state.errorFlag&&(e=r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.msg)),localStorage.getItem("token")||(t=r.a.createElement(p.a,{to:"/login"})),console.log("msg from java controller: ",this.state.msg),r.a.createElement("div",null,t,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body col-md-20"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},"User Profile"),r.a.createElement("form",{onSubmit:this.submitProfileUpdate},r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{className:"label"},"Email:"),r.a.createElement("input",{disabled:!0,type:"username",className:"form-control",name:"username",value:this.state.emailId,required:!0,placeholder:this.state.emailId})),r.a.createElement("br",null),r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{className:"label"},"Nickname:"),r.a.createElement("input",{onChange:this.changeHandler,type:"nickName",className:"form-control",name:"nickName",value:this.state.nickName,required:!0,pattern:"[A-Za-z0-9]+",title:"Please enter only aplha numeric values",placeholder:this.state.nickName})),r.a.createElement("br",null),r.a.createElement("div",{className:"form-item"},r.a.createElement("button",{className:"btn btn-block btn-primary",type:"submit"},"Submit")),e)))))}}]),a}(n.Component),Ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getBankAccounts=function(){if(localStorage.getItem("token")){O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var e=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",e.sub),O.a.get("".concat(_,"/directexchange/bank-accounts/")+e.sub).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Fetched All Bank Accounts: ",e.data),n.setState({myBankAccounts:e.data}))})).catch((function(e){console.log("Here we captured the error: ",e),n.setState({myBankAccounts:null})}))}else r.a.createElement(p.a,{to:"/login"})},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.bankDetails=function(e){var t=[];return e.map((function(e){var a=r.a.createElement("div",{key:e.bankAccountId,className:"col-md-6",style:{display:"flex",justifyContent:"center",marginLeft:"25%"}},r.a.createElement("div",{className:"offerContainer",style:{width:"200%"}},r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Bank Name: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.bankName)),r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Account Number: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.accountNumber)),r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Owner Name: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.ownerName)),r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Owner Address: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.ownerAddress)),r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Primary Currency: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.primaryCurrency)),r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Country: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.country)),r.a.createElement("br",null),r.a.createElement("span",{className:"bankDetailsHeading"},"Features: \u2003 ",r.a.createElement("span",{className:"bankDetails"},e.features)),r.a.createElement("br",null)));t.push(a)})),t},n.state={},n.getBankAccounts(),n}return Object(c.a)(a,[{key:"render",value:function(){var e=null;""!==this.state.primaryCurrency&&void 0!==this.state.primaryCurrency&&this.getCountries(this.state.primaryCurrency),this.state.myBankAccounts&&0===(e=this.bankDetails(this.state.myBankAccounts)).length&&(e=r.a.createElement("div",{className:"col-md-6",style:{display:"flex",justifyContent:"center",marginLeft:"25%"}},r.a.createElement("div",{className:"offerContainer",style:{width:"200%"}},r.a.createElement("span",{className:"bankDetailsHeading"},"No Bank Accounts To Display."))));var t=null;return localStorage.getItem("token")||(t=r.a.createElement(p.a,{to:"/login"})),console.log("msg from java controller: ",this.state.msg),r.a.createElement("div",null,t,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"Bank Account Details"),r.a.createElement("br",null),r.a.createElement("a",{href:"/addAccount",className:"btn btn-success myButton",style:{width:"20%"}},"Add an Account"),r.a.createElement("br",null),e)))}}]),a}(n.Component),Ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.getCurrencies=function(){return G.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name," - ",e.code)}))},n.getCountries=function(e){return V[e].split("|").filter((function(e){return""!==e})).map((function(e){return r.a.createElement("option",{value:e},e)}))},n.addBankAccount=function(e){e.preventDefault();var t={bankName:n.state.bankName,accountNumber:n.state.accountNumber,ownerName:n.state.ownerName,ownerAddress:n.state.ownerAddress,primaryCurrency:n.state.primaryCurrency,country:n.state.country,features:n.state.features};console.log("Update Profile: ",t),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var a=Object(R.a)(localStorage.getItem("token"));O.a.post("".concat(_,"/directexchange/bank-accounts/")+a.sub,t).then((function(e){console.log("Status Code : ",e.status),200===e.status&&(console.log("Successfully Added Bank Details: ",e.data),n.setState({bankName:"",accountNumber:"",ownerName:"",ownerAddress:"",primaryCurrency:"",country:"",features:"",successFlag:!0}))})).catch((function(e){console.log("Error ******** :",e),n.setState({successFlag:!1,errorFlag:!0,msg:e.response.data})}))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=null;""!==this.state.primaryCurrency&&void 0!==this.state.primaryCurrency&&(e=this.getCountries(this.state.primaryCurrency));var t=null,a=null;return!0===this.state.successFlag?t=r.a.createElement("div",{class:"alert alert-success",role:"alert"},"Bank Account Added Successfully!"):!0===this.state.errorFlag&&(t=r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.msg)),localStorage.getItem("token")||(a=r.a.createElement(p.a,{to:"/login"})),console.log("msg from java controller: ",this.state.msg),r.a.createElement("div",null,a,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"Bank Account Setup"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-8",style:{marginTop:"20px",alignSelf:"center"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"buy-sell-widget"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("h3",null,"Please Provide Bank Details"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.addBankAccount},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Bank name :"),r.a.createElement("td",null,r.a.createElement("input",{name:"bankName",type:"text",className:"form-control",style:{fontSize:"20px"},required:!0,value:this.state.bankName,onChange:this.onChange}))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Account Number :"),r.a.createElement("td",null,r.a.createElement("input",{name:"accountNumber",type:"number",min:"0",className:"form-control",style:{fontSize:"20px"},required:!0,value:this.state.accountNumber,onChange:this.onChange}))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Owner Name :"),r.a.createElement("td",null,r.a.createElement("input",{name:"ownerName",type:"text",className:"form-control",style:{fontSize:"20px"},required:!0,value:this.state.ownerName,onChange:this.onChange}))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Owner Address :"),r.a.createElement("td",null,r.a.createElement("input",{name:"ownerAddress",type:"text",className:"form-control",style:{fontSize:"20px"},required:!0,value:this.state.ownerAddress,onChange:this.onChange}))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Primary Currency :"),r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",name:"primaryCurrency",style:{fontSize:"20px"},value:this.state.primaryCurrency,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Select Currency"),this.getCurrencies()))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Country :"),r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",name:"country",style:{fontSize:"20px"},value:this.state.country,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Select Country"),e))),r.a.createElement("br",null),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontSize:"24px"}},"Features :"),r.a.createElement("td",null,r.a.createElement("select",{name:"features",className:"form-control",style:{fontSize:"20px"},value:this.state.features,onChange:this.onChange,required:!0},r.a.createElement("option",{defaultValue:!0,value:""},"Select option"),r.a.createElement("option",{defaultValue:!0,value:"Send"},"Only Send"),r.a.createElement("option",{defaultValue:!0,value:"Receive"},"Only Receive"),r.a.createElement("option",{defaultValue:!0,value:"Both"},"Send and Receive"))))),r.a.createElement("br",null),r.a.createElement("br",null),t,r.a.createElement("br",null),r.a.createElement("button",{class:"btn btn-success myButton",type:"submit"},"Submit"),"\u2003",r.a.createElement("a",{href:"/account",class:"btn myButton",style:{width:"20%",background:"#007bff"}},"View Accounts")),r.a.createElement("br",null),r.a.createElement("br",null))))))))}}]),a}(n.Component),Se=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-6",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"offerContainer"},r.a.createElement("span",null,"Posted By: ",r.a.createElement("span",{className:"postedBy"},this.props.senderNickName),r.a.createElement("br",null),"Counter Offer Amount: ",r.a.createElement("span",{className:"postedBy"},this.props.counterOfferAmount),r.a.createElement("br",null),"Status: ","expired"===this.props.status?r.a.createElement("span",{className:"postedBy",style:{color:"red"}},this.props.status):r.a.createElement("span",{className:"postedBy"},this.props.status),r.a.createElement("br",null)),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px 0"}},r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"Your Initial Offer:"),r.a.createElement("span",{className:"offerCountry"},this.props.receiverOffer.srcCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.receiverOffer.srcCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.receiverOffer.remitAmount))),r.a.createElement("span",{className:"arrowContainer"},r.a.createElement("i",{className:"arrowC la la-arrow-right"})),r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"Received Offer:"),r.a.createElement("span",{className:"offerCountry"},this.props.receiverOffer.destCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.receiverOffer.destCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.receiverOffer.finalAmount)))),"new"==this.props.status?r.a.createElement(D.a,{to:{pathname:"/ViewCounterOffer",state:{offerObj:this.props.senderOffer,counterOfferId:this.props.counterOfferId,nickName:this.props.senderNickName,counterOfferAmount:this.props.counterOfferAmount,receiverOfferObj:this.props.receiverOffer,type:this.props.type}},className:"customBtn"},"View Offer"):""))}}]),a}(n.Component),ke=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-6",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"offerContainer"},r.a.createElement("span",null,"Posted By: ",r.a.createElement("span",{className:"postedBy"},this.props.senderNickName),r.a.createElement("br",null),"Counter Offer Amount: ",r.a.createElement("span",{className:"postedBy"},this.props.counterOfferAmount),r.a.createElement("br",null),"Status: ",r.a.createElement("span",{className:"postedBy"},this.props.status),r.a.createElement("br",null)),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"10px 0"}},r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"Your Initial Offer:"),r.a.createElement("span",{className:"offerCountry"},this.props.receiverOffer.srcCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.receiverOffer.srcCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.receiverOffer.remitAmount))),r.a.createElement("span",{className:"arrowContainer"},r.a.createElement("i",{className:"arrowC la la-arrow-right"})),r.a.createElement("div",{className:"offerDetails"},r.a.createElement("span",{className:"offerDetailTop"},"Received Offer:"),r.a.createElement("span",{className:"offerCountry"},this.props.receiverOffer.destCountry),r.a.createElement("div",null,r.a.createElement("span",{className:"offerCurrency"},this.props.receiverOffer.destCurrency," "),r.a.createElement("span",{className:"offerAmount"},this.props.receiverOffer.finalAmount)))),"new"==this.props.status?r.a.createElement(D.a,{to:{pathname:"/ViewCounterOffer",state:{offerObj:this.props.senderOffer,counterOfferId:this.props.counterOfferId,nickName:this.props.senderNickName,counterOfferAmount:this.props.counterOfferAmount,receiverOfferObj:this.props.receiverOffer,type:this.props.type,thirdParty:this.props.thirdParty}},className:"customBtn"},"View Offer"):""))}}]),a}(n.Component),xe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getAllOffers=function(e){console.log("offer details: ",e),n.setState({offer:e,redirectToAcceptOffer:!0})},n.state={submitted:!1,myCounterOffers:"",counterOfferForMe:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));console.log("decodedUserId: ",t.sub),O.a.get("".concat(_,"/directexchange/user/counteroffer/")+t.sub).then((function(t){console.log("Status Code : ",t.status),200===t.status&&(console.log("Fetched All Offers: ",t.data),e.setState({successFlag:!0,myCounterOffers:t.data.mycounterOffers,counterOffersForMe:t.data.counterOffersForMe}))})).catch((function(t){console.log("Here we captured the error: ",t),e.setState({successFlag:!1,myCounterOffers:null,counterOfferForMe:null})}))}},{key:"render",value:function(){console.log("counterOfferForMe: ",this.state.myCounterOffers);return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"card",style:{width:"1000px"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title",style:{fontSize:"28px"}},"Counter Offers")),r.a.createElement("br",null),r.a.createElement("br",null),this.state.counterOffersForMe&&0!==this.state.counterOffersForMe.length?this.state.counterOffersForMe.map((function(e){return"single"===e.type?r.a.createElement(Se,{senderOffer:e.senderOffer,receiverOffer:e.receiverOffer,counterOfferAmount:e.counterOfferAmount,senderNickName:e.sender.nickName,receiverNickName:e.receiver.nickName,counterOfferId:e.offerId,type:e.type,status:e.status}):r.a.createElement(ke,{senderOffer:e.senderOffer,receiverOffer:e.receiverOffer,counterOfferAmount:e.counterOfferAmount,senderNickName:e.sender.nickName,receiverNickName:e.receiver.nickName,counterOfferId:e.offerId,thirdParty:e.thirdPartyOffer,type:e.type,status:e.status})})):r.a.createElement("div",null," No Counter Offer Posted Yet! "))))))}}]),a}(n.Component),we=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).sendMessage=function(){var t={message:e.state.message};O.a.post("https://jsonplaceholder.typicode.com/users",{message:t}).then((function(e){console.log(e),console.log(e.data)}))},e.rejectCounterHandler=function(t){t.preventDefault(),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");Object(R.a)(localStorage.getItem("token"));var a={counterOfferId:e.props.location.state.counterOfferId,senderInitialOfferId:e.props.location.state.offerObj.offerId,rejectMsgFromUser:e.props.location.state.receiverOfferObj.user.nickName,rejectMsgToEmail:e.props.location.state.offerObj.user.emailId};console.log("data to reject: ",a),O.a.put("".concat(_,"/directexchange/user/counteroffer"),a).then((function(t){console.log("Status Code : ",t.status),200===t.status?(console.log("Posted Counter Offers: ",t.data),e.setState({rejectFlag:!0})):e.setState({rejectFlag:!1})})).catch((function(t){console.log("Here we captured the error: ",t),e.setState({rejectFlag:!1})}))},e.state={message:null,showMessage:!1,rejectFlag:null,transactionFlag:null},e.rejectCounterHandler=e.rejectCounterHandler.bind(Object(y.a)(e)),e.acceptSingleOfferHandler=e.acceptSingleOfferHandler.bind(Object(y.a)(e)),e.acceptSplitOfferHandler=e.acceptSplitOfferHandler.bind(Object(y.a)(e)),e}return Object(c.a)(a,[{key:"acceptSingleOfferHandler",value:function(e){var t=this;console.log("inside single offer"),e.preventDefault(),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var a=Object(R.a)(localStorage.getItem("token")),n={source_offer:this.props.location.state.receiverOfferObj.offerId,offers_matched1:this.props.location.state.offerObj,source_offer_amount:this.props.location.state.counterOfferAmount,counterOfferId:this.props.location.state.counterOfferId};console.log("counter offer accept data: ",n),O.a.post("".concat(_,"/directexchange/api/transactions/")+a.sub,n).then((function(e){console.log("Status Code : ",e.status),200===e.status?(console.log("Posted Counter Offers: ",e.data),t.setState({transactionFlag:!0})):t.setState({transactionFlag:!1,transactionMsg:"Accept transaction failed! Try after sometime."})})).catch((function(e){console.log("Here we captured the error: ",e),t.setState({transactionFlag:!1})}))}},{key:"acceptSplitOfferHandler",value:function(e){var t=this;console.log("inside split offer"),e.preventDefault(),O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var a=Object(R.a)(localStorage.getItem("token")),n={source_offer:this.props.location.state.receiverOfferObj.offerId,offers_matched1:this.props.location.state.offerObj,offers_matched2:this.props.location.state.thirdParty,source_offer_amount:this.props.location.state.counterOfferAmount,counterOfferId:this.props.location.state.counterOfferId};console.log("split counter transaction data: ",n),O.a.post("".concat(_,"/directexchange/api/transactions/")+a.sub,n).then((function(e){console.log("Status Code : ",e.status),200===e.status?(console.log("Posted Counter Offers: ",e.data),t.setState({transactionFlag:!0})):t.setState({transactionFlag:!1,transactionMsg:e.data})})).catch((function(e){console.log("Here we captured the error: ",e),t.setState({transactionFlag:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.location.state.offerObj,a=(this.props.location.state.nickName,this.props.location.state.counterOfferAmount),n=this.props.location.state.receiverOfferObj,l=this.props.location.state.counterOfferId,o=this.props.location.state.type;console.log("counterOfferId: ",l),console.log("sender: ",t),console.log("receiver: ",n),console.log("type: ",o);var s="",c="";return 0==this.state.rejectFlag?s=r.a.createElement("div",{style:{color:"red"}},"Couldn't reject counter offer, Try after sometime."):this.state.rejectFlag&&(c=r.a.createElement(T.a,{to:{pathname:"/viewCounterOffers"}})),this.state.transactionFlag&&(c=r.a.createElement(T.a,{to:{pathname:"/transact"}})),r.a.createElement("div",null,c,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"myContainer"},r.a.createElement("span",{className:"PageTitle"},"View Offer Details"),r.a.createElement("div",{className:"col-md-10",style:{maxWidth:"800px",alignSelf:"center",marginTop:"30px"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"buyer-seller"},r.a.createElement("div",{className:"d-flex justify-content-between mb-3"},r.a.createElement("div",{className:"buyer-info"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h6",null,"Posted By"),r.a.createElement("h4",null,r.a.createElement("span",{class:"userThumb"},r.a.createElement("i",{class:"mdi mdi-account"})),t.user.nickName),this.state.showMessage?"":r.a.createElement("button",{className:"btn btn-primary myButton2",style:{height:"30px",marginLeft:"38px"},onClick:function(t){return e.setState({showMessage:!0})}},"Message"))))),this.state.showMessage?r.a.createElement("div",{className:"form-row",style:{justifyContent:"flex-end"}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("textarea",{type:"text",className:"form-control",placeholder:"Enter Message",onChange:function(t){return e.setState({message:t.target.value})}})),r.a.createElement("button",{className:"btn btn-primary myButton",onClick:function(t){return e.sendMessage()}},"Send Message!")):"",r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,"Your Initial Remit Amount")),r.a.createElement("td",null,r.a.createElement("span",null,n.srcCurrency," ",n.remitAmount))),a?r.a.createElement("tr",null,r.a.createElement("td",null,"Counter Offer Amount"),r.a.createElement("td",null,n.srcCurrency," ",a)):"",r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,"Your Initial Money To Receive")),r.a.createElement("td",null,r.a.createElement("span",null,n.destCurrency," ",n.finalAmount))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,"New Amount To Receive")),r.a.createElement("td",null,r.a.createElement("span",null,n.destCurrency," ",(a*n.exchangeRate).toFixed(2)))),r.a.createElement("tr",null,r.a.createElement("td",null,"Exchange Rate"),r.a.createElement("td",null,n.exchangeRate)),"split"===o?r.a.createElement("tr",null,r.a.createElement("td",null,"Another User Involved"),r.a.createElement("td",null,"Yes")):"",r.a.createElement("tr",null,r.a.createElement("td",null,"Expiry Date"),r.a.createElement("td",null,Date(t.expDate))),r.a.createElement("tr",null,r.a.createElement("td",null,"Offer Split Allowed"),r.a.createElement("td",null,t.splitOfferFlag?"Yes":"No"))))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},"single"===o?r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",style:{marginRight:"50px",marginTop:"0px",height:"45px"},onClick:this.acceptSingleOfferHandler},"Accept Offer"," "):r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",style:{marginRight:"50px",marginTop:"0px",height:"45px"},onClick:this.acceptSplitOfferHandler},"Accept Offer"," "),l&&0!==l.length?r.a.createElement("button",{type:"submit",className:"post-counter-offer-custom-button",style:{marginRight:"50px",marginTop:"0px",height:"45px"},onClick:this.rejectCounterHandler},"Reject Offer"):"",t.counterOfferFlag&&!l?r.a.createElement(D.a,{to:{pathname:"/ViewOffer",state:{offerObj:this.props.offerObj}},className:"btn btn-primary myButton"},"Counter Offer"):""),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"center"}},s))))))))}}]),a}(n.Component),Ie=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="badge badge-danger";return"pending"===this.props.details.transactionStatus?e="badge badge-warning":"completed"===this.props.details.transactionStatus&&(e="badge badge-success"),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{class:e},this.props.details.transactionStatus.toUpperCase())),r.a.createElement("td",null,r.a.createElement("small",null,"Date"),r.a.createElement("br",null),this.props.details.expirationDate.substr(0,10)),r.a.createElement("td",null,r.a.createElement("small",null," Remit Amount"),r.a.createElement("br",null),this.props.details.offerDetails.srcCurrency," ",this.props.details.offerDetails.remitAmount),r.a.createElement("td",null,r.a.createElement("small",null,"Final Amount"),r.a.createElement("br",null),this.props.details.offerDetails.destCurrency," ",this.props.details.offerDetails.finalAmount," ",r.a.createElement("br",null)),r.a.createElement("td",null,r.a.createElement("small",null,"Service Fees"),r.a.createElement("br",null),this.props.details.offerDetails.destCurrency," ",(5e-4*parseFloat(this.props.details.offerDetails.finalAmount)).toFixed(2)," "),r.a.createElement("td",null,r.a.createElement("small",null," Exchange Rate"),r.a.createElement("br",null),Math.round(1e3*this.props.details.offerDetails.exchangeRate)/1e3))}}]),a}(n.Component),je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={completedTransactions:0,uncompleteTransactions:0,totalRemitAmount:0,transactionDetails:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.defaults.headers.common.authorization="Bearer "+localStorage.getItem("token");var t=Object(R.a)(localStorage.getItem("token"));O.a.get("".concat(_,"/directexchange/api/transactions/systemreport/")+t.sub).then((function(t){200==t.status&&(e.setState({completedTransactions:t.data.completedTransactions,uncompleteTransactions:t.data.uncompleteTransactions,totalRemitAmount:t.data.totalRemitAmount,transactionDetails:t.data.transactionDetails}),console.log(t.data))})).catch((function(e){alert("Something went wrong! Please try again later.")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(H,null),r.a.createElement("div",{class:"content-body"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xl-12"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xl-3 col-lg-6 col-md-6"},r.a.createElement("div",{class:"widget-card"},r.a.createElement("div",{class:"widget-title"},r.a.createElement("h5",null,"Completed Transactions")),r.a.createElement("div",{class:"widget-info"},r.a.createElement("h3",null,this.state.completedTransactions)))),r.a.createElement("div",{class:"col-xl-3 col-lg-6 col-md-6"},r.a.createElement("div",{class:"widget-card"},r.a.createElement("div",{class:"widget-title"},r.a.createElement("h5",null,"Uncompleted Transactions")),r.a.createElement("div",{class:"widget-info"},r.a.createElement("h3",null,this.state.uncompleteTransactions)))),r.a.createElement("div",{class:"col-xl-3 col-lg-6 col-md-6"},r.a.createElement("div",{class:"widget-card"},r.a.createElement("div",{class:"widget-title"},r.a.createElement("h5",null,"Total Remit Amount")),r.a.createElement("div",{class:"widget-info"},r.a.createElement("h3",null,this.state.totalRemitAmount),r.a.createElement("p",null,"USD")))),r.a.createElement("div",{class:"col-xl-3 col-lg-6 col-md-6"},r.a.createElement("div",{class:"widget-card"},r.a.createElement("div",{class:"widget-title"},r.a.createElement("h5",null,"Total Service Fees")),r.a.createElement("div",{class:"widget-info"},r.a.createElement("h3",null,(5e-4*parseFloat(this.state.totalRemitAmount)).toFixed(2)),r.a.createElement("p",null,"USD")))))),r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h4",{class:"card-title"},"All Transaction Details ")),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"transaction-widget"},r.a.createElement("ul",{class:"list-unstyled"},r.a.createElement("table",{class:"table mb-0 table-responsive-sm"},r.a.createElement("tbody",null,this.state.transactionDetails.map((function(e,t){return r.a.createElement(Ie,{key:t,details:e})})))))))))))))}}]),a}(n.Component),Fe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,{history:E},r.a.createElement(d.a,null,r.a.createElement(v,{exact:!0,path:"/",component:ve}),r.a.createElement(v,{exact:!0,path:"/ViewOffer",component:be}),r.a.createElement(v,{exact:!0,path:"/ViewCounterOffer",component:we}),r.a.createElement(f.a,{exact:!0,path:"/signup",component:P}),r.a.createElement(f.a,{exact:!0,path:"/login",component:B}),r.a.createElement(v,{exact:!0,path:"/getMyOffers",component:J}),r.a.createElement(f.a,{exact:!0,path:"/oauth2/redirect",component:ye}),r.a.createElement(v,{exact:!0,path:"/viewOfferMatches",component:$}),r.a.createElement(v,{path:"/transact",component:ae}),r.a.createElement(v,{path:"/rates",component:ne}),r.a.createElement(f.a,{path:"/verify",component:Ce}),r.a.createElement(v,{path:"/profile",component:Oe}),r.a.createElement(v,{path:"/account",component:Ne}),r.a.createElement(v,{path:"/addAccount",component:Ae}),r.a.createElement(v,{path:"/viewCounterOffers",component:xe}),r.a.createElement(v,{path:"/transactHistory",component:Ee}),r.a.createElement(v,{path:"/report",component:je}),r.a.createElement(p.a,{to:"/"})))}}]),a}(n.Component),De=a(91),Re=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(De.a,null,r.a.createElement(Fe,null))}}]),a}(n.Component),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Re,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Me?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):_e(e)}))}}()}},[[52,1,2]]]);
//# sourceMappingURL=main.389d8b13.chunk.js.map